/*
 LIM 5.1
 Libro Interactivo Multimeda
 Fran Macias , http://educalim.org
 CC 3.0  BY SA
*/
function clasificar(e){var t={textos:"",caixas:"",txcaixas:""};this.crear=function(){function r(e,t,r){v++,e.style.zIndex=v;for(var i,n=parseInt(e.id),a=e.id.substring(e.id.length-1),o=0;o<s;o++){if(i=o+1,LIM.ratosobre(e,d[o],t,r,!1)){p[n]=a==i?1:0;break}p[n]=0}}t=LIM.prc(t,e),e.properties.minheight="430";var i=e.properties.textos,n=e.properties.caixas,a=-1<e.properties.txcaixas.indexOf(",")?e.properties.txcaixas.split(","):e.properties.txcaixas,o=i.length,s=a.length,l=LIM.crearbase(e),c=LIM.paxina(),p=Array(o),d=Array(s),m=0,u="dst",f="";u=350;var h=f=0,v=1100;for(void 0==e.donde&&LIM.comunes(l,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){-1<p.toString().indexOf(0)?LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),2<s&&(u=180),m=0;m<s;m++){var g=LIM.creardom("div",l,m+"caixa"+c,"clclas-ca",280+260*f,h);g.style.height=u+"px",g.innerHTML=a[m],d[m]=g,1==m&&(f=-1,h=200),f++}for(12<o&&(u=50),m=0,u="etq",f="",a=LIM.desordena(o),h=0,dHeight=51*o+20,l.style.height=dHeight+"px",m=0;m<o;m++)h=a[m],f=h+u+c+n[h],f=LIM.creardom("div",l,f,"clcla-etq",10,6+51*m),50<i[h].length&&(f.style.fontSize="12px"),f.innerHTML=i[h],LIM.drag(f,l,r),p[h]=0}}function clasificarimx(e){var t={textos:[],caixas:[],txcaixas:[],imaxes:[],imaxeAltText:[],mensaben:"",mensamal:""};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t,r){b++,e.style.zIndex=b,t=parseInt(e.id),r=e.id.substring(e.id.length-1);for(var i,n=0;n<m;n++){if(i=n+1,LIM.estasobre(e,v[n],!1)){h[t]=r==i?1:0;break}h[t]=0}}(e=LIM.prc(t,e)).properties.minheight="430";var i=e.properties.textos||[],n=e.properties.caixas||[],a=e.properties.txcaixas||[],o=e.properties.imaxes,s=e.properties.imaxeAltText||[],l=e.properties.cfondo||"",c=e.properties.cadro||"",p=e.properties.cadro||"0",d=o.length,m=a.length,u=LIM.crearbase(e),f=LIM.paxina(),h=Array(d),v=Array(m),g=380,x=0,b=1100;g=null,void 0==e.donde&&LIM.comunes(u,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(u,!0),"click",function(){-1<h.toString().indexOf(0)?LIM.poneravaliacion(u,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(u,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),g=Math.round(850/m)-2;for(var L=0;L<m;L++){var y=LIM.creardom("div",u,L+"caixa"+f,"clclaimx-cx",10+(g+10)*L,170);y.style.width=g+"px",y.innerHTML=a[L],v[L]=y,1==L&&(x=-1),x++}for(12<d&&(g=50),L=0,g="",a=LIM.desordena(d),L=x=0;L<d;L++)x=a[L],g=x+"metq"+f+n[x],"1"==p?(y=LIM.creardom("div",u,g,"",10+126*L,4),y.style.position="absolute"):y=LIM.creardom("div",u,g,"clclaimx-cad",10+126*L,4),""!=l&&(y.style.backgroundColor="#"+l),""!=c&&(y.style.borderWidth="1px"),g=LIM.crearimaxe({pai:y,name:L+"imx"+f,cssclass:"",posx:1,posy:1,alttext:s[x]}),g.style.visibility="hidden",LIM.cargaimaxe(g,o[x],148,138,"",!0,!0),LIM.drag(y,u,r),h[x]=0,""!=e.properties.textos&&""!=i[x]&&(g=LIM.creardom("div",y,L+"txt"+f,"bandat",0,104),g.style.width="150px",g.style.height="34px",g.innerHTML=i[x])}}function completar(e){var t={};this.crear=function(){t=LIM.prc(t,e),e.properties.minheight="380";for(var r=e.properties.modo||"1",i=[],n=[],a=[],o=e.properties.textos.length,s=0;s<o;s++)arretq=e.properties.textos[s].split("||"),i[s]=arretq[0],n[s]=arretq[1],a[s]=arretq[2];var l,c=LIM.crearbase(e),p=LIM.paxina(),d=Array(o),m=Array(o);for(s=0,void 0==e.donde&&LIM.comunes(c,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(c,!0),"click",function(){for(var t,i,n=!0,a=0;a<o;a++)t=d[a],"1"==r?(i=t.value,valtx=m[a]):(i=LIM.ttrim(t.value.toLowerCase()),valtx=m[a].toLowerCase()),valtx==i?t.style.backgroundColor="#F2F5A9":(t.style.backgroundColor="#E6E6E6",n=!1);n?LIM.poneravaliacion(c,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(c,e.properties.mensamal,!1,e.properties.ffinal,e.num)}),s=0,s=l=0;s<o;s++)n[s].length>l&&(l=n[s].length);if(l*=14,"3"==r){var u=n.slice();LIM.revolve(u)}var f=LIM.creardom("div",c,"","clcomp-cadro");for(s=0;s<o;s++){var h=LIM.creardom("div",f,"","clcomp-base");i[s]&&((l=LIM.creardom("span",h,"","clcomp-txt")).innerHTML=i[s]),""!=n[s]&&(l="3"==r?LIM.crearselect(h,s+"dstum"+p,"clcomp-in",-5,0,u):LIM.crearinput({pai:h,name:s+"dstum"+p,cssclass:"clcomp-in",pholder:t.pholder}),m[s]=n[s],d[s]=l),""!=a[s]&&void 0!=a[s]&&((l=LIM.creardom("span",h,"","clcomp-txt")).innerHTML=a[s])}"2"==r&&((h=LIM.creardom("div",c,"","clcomp-axu")).innerHTML=n.toString().split(",").join(" | "))}}function cuadros(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t,r){for(var i=null,o=[],s=0,l=0;l<t.length;l++)for(var c=0;c<t[l].length;c++)i=document.createElement("DIV"),e.appendChild(i),i.style.backgroundColor="transparent",o[s]=i,0<t[l][c]&&r?(i.style.backgroundColor=n[t[l][c]-1],i.className="clsime-cadro clsime-cor"):i.className="clsime-cadro",r||(i.onclick=function(){"transparent"!=this.style.backgroundColor?(this.style.backgroundColor="transparent",this.className="clsime-cadro"):(this.style.backgroundColor=a,this.className="clsime-cadro clsime-cor")}),s++;return o}function i(e){e=e.split("");for(var t=0;t<e.length;t++)0!=e[t]?e[t]=0:e[t]=1;return e.join("")}e.properties.minheight="430",Element.prototype.hasClassName=function(e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(this.className)},Element.prototype.addClassName=function(e){this.hasClassName(e)||(this.className=[this.className,e].join(" "))},Element.prototype.removeClassName=function(e){this.hasClassName(e)&&(this.className=this.className.replace(new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)","g")," "))},Element.prototype.toggleClassName=function(e){this[this.hasClassName(e)?"removeClassName":"addClassName"](e)};var n="#ff0000 #00ff00 #0000ff #ff8000 #ffff00 #C8A2C8 #ffffff #000000".split(" "),a=n[0],o=null;t=LIM.prc(t,e);var s=e.properties.valor||"0",l=e.properties.forma||"0",c=e.properties.cadros||[];if("0"==(e.properties.modo||"0")){var p=1;"1"==s&&(p=10);for(var d=s="",m=d=0;7>m;m++){s="";for(var u=0;8>u;u++)d=Math.floor(Math.random()*(p-0+1)),7<d&&(d=0),d=d.toString(),s+=d;c[m]=s}}var f=LIM.crearbase(e);LIM.paxina(),m="",LIM.addEventSimple(LIM.esactividad(f,!0),"click",function(){for(var t,r=!0,i="",a=0;a<x.length;a++)t=b[a].style.backgroundColor,t=(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):"",t=NaN==Number(t)?0:n.indexOf(t)+1,i+=t;for(i=i.match(/.{1,8}/g),a=0;a<v;a++)i[a]!=g[a]&&(r=!1);r?LIM.poneravaliacion(f,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(f,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var h,v=c.length,g=[];if(0==l)for(m=0;m<v;m++)g.push(c[m]);else if("1"==l)for(m=0;m<v;m++)g[m]=i(c[m]);else if("2"==l)for(m=0;m<v;m++)g[m]=(h=c[m],(h=(h=h.split("")).reverse()).join(""));else if("3"==l)for(m=0;m<v;m++)g[m]="0"+c[m].substr(0,7);(l=document.createElement("DIV")).className="clsime-base",f.appendChild(l);var x=r(l,c,!0);(l=document.createElement("DIV")).className="clsime-base",f.appendChild(l);var b=r(l,c);for(c=null,(l=document.createElement("DIV")).className="clsime-colores",f.appendChild(l),p=0;p<n.length;p++)c=document.createElement("DIV"),c.className="clsime-color",c.style.backgroundColor=n[p],l.appendChild(c),c.onclick=function(){a=this.style.backgroundColor,this.addClassName("clsime-sel"),o.removeClassName("clsime-sel"),o=this},0==p&&(o=c,c.addClassName("clsime-sel"));(c=document.createElement("DIV")).className="clsime-del",c.style.backgroundColor="#ffffff",l.appendChild(c),c.onclick=function(){for(var e=0;e<b.length;e++)b[e].style.backgroundColor="transparent"},c.innerHTML="X"}}function dictado(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){(e=LIM.prc(t,e)).properties.minheight="430";var r=e.properties.texto,i=e.properties.son||"",n=e.properties.modo||"0",a=e.properties.forma||"0",o=r.replace(/ +(?= )/g,""),s=o.split(/<br>| /),l=LIM.crearbase(e),c=LIM.creardom("div",l,"","cldic-base");if(LIM.paxina(),LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){var t=d.value.replace(/(?:\r\n|\r|\n)/g,"<br>").replace(/ +(?= )/g,""),r=t.split(/<br>| /),i="";if("1"==n)for(var a=0;a<r.length;a++)i=r[a]!=s[a]?i+"<span>"+r[a]+"</span> ":i+(r[a]+" ");o==t?LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num):(LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num),"1"==n&&(u.innerHTML=i,m.style.display="block"))}),"1"==a&&(LIM.creardom("div",c,"","cldic-or").innerHTML=r),""!=i){r=LIM.creardom("div",c,"","cldic-bts");var p=LIM.creardom("audio",r,"","cldic-au");p.controls=!0,p.src=i,(i=document.createElement("button")).className="cldic-bot",i.title=LIM.td("Pausa"),r.appendChild(i),i.innerHTML="-3",LIM.addEventSimple(i,"click",function(){p.pause(),p.currentTime-=3,p.pause()})}var d=document.createElement("TEXTAREA");d.className="cldic-txt",c.appendChild(d);var m=LIM.creardom("div",c,"","cldic-dvc");c=LIM.creardom("button",m,"","cldic-btc");var u=LIM.creardom("div",m,"","cldic-cor");c.innerHTML="x",c.setAttribute("aria-label",LIM.td("Cerrar")),c.setAttribute("title",LIM.td("Cerrar")),LIM.addEventSimple(c,"click",function(){this.parentNode.style.display="none"})}}function esquema(e){var t={texto:""};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t){function r(e,t){e.Nodes||(e.Nodes=[]);var r=e.Nodes.length;e.Nodes[r]={},t.Action||(t.Action=""),e.Nodes[r].Action=t.Action,e.Nodes[r].Content=t.texto,e.Nodes[r].Pai=t.pai}var a=JSON.parse(e),o=a.esquema[0].texto,s="";0<o.indexOf("]")&&(s=o.substring(o.lastIndexOf("[")+1,o.lastIndexOf("]")),o=o.split("["+stacti+"]").join("")),o={Content:o,Action:s,Nodes:[]},s=[-1,-1,-1,-1,-1,-1,-1,-1];for(var l=1;l<a.esquema.length;l++)switch(a.esquema[l].nivel){case"1":r(o,a.esquema[l]),s[1]++,s[2]=-1,s[3]=-1;break;case"2":r(o.Nodes[s[1]],a.esquema[l]),s[2]++,s[3]=-1;break;case"3":r(o.Nodes[s[1]].Nodes[s[2]],a.esquema[l]),s[3]++;break;case"4":r(o.Nodes[s[1]].Nodes[s[2]].Nodes[s[3]],a.esquema[l]),s[4]++;break;case"5":r(o.Nodes[s[1]].Nodes[s[2]].Nodes[s[3]].Nodes[s[4]],a.esquema[l]),s[5]++;break;case"6":r(o.Nodes[s[1]].Nodes[s[2]].Nodes[s[3]].Nodes[s[4]].Nodes[s[5]],a.esquema[l]),s[6]++}!function(e){(function e(t,r,i,n,a){void 0==r&&(r=0);void 0==i&&(i=null);void 0==n&&(n=null);void 0==a&&(a=[]);t.Level=r;t.ParentNode=i;t.LeftNode=n;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(i=0;i<t.Nodes.length;i++)n=null,0==i&&void 0!=a[r]&&(n=a[r]),0<i&&(n=t.Nodes[i-1]),i==t.Nodes.length-1&&(a[r]=t.Nodes[i]),e(t.Nodes[i],r+1,t,n,a)})(e.RootNode),"Vertical"==e.Layout?function e(t,r){var i=r.height?r.height:100,n=r.width?r.width:100,a=5;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var o=0;o<t.Nodes.length;o++)e(t.Nodes[o],r);!t.Collapsed&&t.Nodes&&0<t.Nodes.length?(a=t.Nodes[0].Top+(t.Nodes[t.Nodes.length-1].Top+t.Nodes[t.Nodes.length-1].Height-t.Nodes[0].Top)/2-i/2,t.LeftNode&&t.LeftNode.Top+t.LeftNode.Height+20>a&&(o=t.LeftNode.Top+t.LeftNode.Height+20,function e(t,r){for(var i=0;i<t.length;i++)t[i].Top+=r,t[i].ParentConnectorPoint&&(t[i].ParentConnectorPoint.Y+=r),t[i].ChildrenConnectorPoint&&(t[i].ChildrenConnectorPoint.Y+=r),t[i].Nodes&&e(t[i].Nodes,r)}(t.Nodes,o-a),a=o)):t.LeftNode&&(a=t.LeftNode.Top+t.LeftNode.Height+20);t.Top=a;t.Left=5+30*t.Level+n*t.Level;t.Height=i;t.Width=n;n=t.Left+n;t.ChildrenConnectorPoint={X:n,Y:a+i/2,Layout:"Vertical"};n=t.Left;t.ParentConnectorPoint={X:n,Y:a+i/2,Layout:"Vertical"}}(e.RootNode,e):function e(t,r){var i=r.height?r.height:30,n=r.width?r.width:100,a=5;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var o=0;o<t.Nodes.length;o++)e(t.Nodes[o],r);!t.Collapsed&&t.Nodes&&0<t.Nodes.length?(a=t.Nodes[0].Left+(t.Nodes[t.Nodes.length-1].Left+t.Nodes[t.Nodes.length-1].Width-t.Nodes[0].Left)/2-n/2,t.LeftNode&&t.LeftNode.Left+t.LeftNode.Width+30>a&&(o=t.LeftNode.Left+t.LeftNode.Width+30,function e(t,r){for(var i=0;i<t.length;i++)t[i].Left+=r,t[i].ParentConnectorPoint&&(t[i].ParentConnectorPoint.X+=r),t[i].ChildrenConnectorPoint&&(t[i].ChildrenConnectorPoint.X+=r),t[i].Nodes&&e(t[i].Nodes,r)}(t.Nodes,o-a),a=o)):t.LeftNode&&(a=t.LeftNode.Left+t.LeftNode.Width+30);t.Left=a;t.Top=5+50*t.Level+i*t.Level;t.Height=i;t.Width=n;i=t.Top+i;t.ChildrenConnectorPoint={X:a+n/2,Y:i,Layout:"Horizontal"};i=t.Top;t.ParentConnectorPoint={X:a+n/2,Y:i,Layout:"Horizontal"}}(e.RootNode,e),e.Container.innerHTML="",function e(t,r,i){if(""!=t.Action&&"o"!=t.Action){var n=document.createElement("a");n.href='javascript:LIM.salto("'+t.Action+'")',n.title="link: "+t.Action}else n=document.createElement("div");n.style.top=t.Top+"px";n.style.left=t.Left+"px";n.style.width=t.Width+"px";n.style.height=t.Height+"px";if(t.Collapsed)n.className=" clesq-nodeco";else if("o"==t.Action)n.className="clesq-node clesq-oc",n.innerHTML="?",n.cnt=t.Content,n.Pai=t.Pai,c.push(t.Content),p.push(t.Pai);else if(n.className="clesq-node",""!=t.Action){var a=document.createElement("div");a.className="clesq-lnk",n.appendChild(a)}t.Class&&(n.className=t.Class);t.Content&&(a=document.createElement("div"),a.className="clesq-nodec",n.appendChild(a),"o"!=t.Action&&(a.innerHTML+=t.Content));t.ToolTip&&n.setAttribute("title",t.ToolTip);n.Node=t;i.OnNodeClick&&(n.onclick=i.OnNodeClick);i.OnNodeDoubleClick&&(n.ondblclick=i.OnNodeDoubleClick);r.appendChild(n);n.style.zIndex="200";if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(n=0;n<t.Nodes.length;n++)e(t.Nodes[n],r,i)}(e.RootNode,e.Container,e),function e(t,r){if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var n=0;n<t.Nodes.length;n++){if("Vertical"==t.ChildrenConnectorPoint.Layout){var a=r,o=t.ChildrenConnectorPoint,s=t.Nodes[n].ParentConnectorPoint,l=o.X+(s.X-o.X)/2;i(a,o.X,o.Y,l,o.Y,1),i(a,l,o.Y<s.Y?o.Y:s.Y,l,o.Y>s.Y?o.Y:s.Y,1),i(a,l,s.Y,s.X,s.Y,1)}else a=r,o=t.ChildrenConnectorPoint,s=t.Nodes[n].ParentConnectorPoint,l=o.Y+(s.Y-o.Y)/2,i(a,o.X,o.Y,o.X,l,1),i(a,o.X<s.X?o.X:s.X,l,o.X>s.X?o.X:s.X,l,1),i(a,s.X,l,s.X,s.Y,1);e(t.Nodes[n],r)}}(e.RootNode,e.Container);var t=c,r=p,a=e.Container,o=e.RootNode.Width;e=e.RootNode.Height;for(var s=LIM.desordena(t.length),l=0;l<t.length;l++){var d=document.createElement("div");d.innerHTML=t[s[l]],d.className="clesq-drag",d.style.width=o,d.style.height=e,d.cnt="0";var m=a.parentNode;m.appendChild(d),d.npai=r[s[l]],LIM.drag(d,m,n)}}({Container:t,RootNode:o,Layout:d,width:m,height:u}),t.style.width="auto"}function i(e,t,r,i,n,a){var o=document.createElement("div");o.style.top=r+"px",o.style.left=t+"px",t==i?(o.style.width=a+"px",o.style.height=n-r+"px"):(o.style.width=i-t+"px",o.style.height=a+"px"),o.className="clesq-li",e.appendChild(o)}function n(e,t,r){e.cnt="0",e.style.visibility="hidden",t=document.elementFromPoint(t,r),e.style.visibility="visible",-1<t.className.indexOf("clesq-oc")&&(e.style.left=t.style.left,e.style.top=t.style.top,e.npai==t.Pai&&(e.cnt="1"))}e.properties.minheight="460";var a=(e=LIM.prc(t,e)).properties.dim||["0","0"],o=Number(e.properties.forma)||0,s=e.properties.texto||"";0<s.indexOf("|")?(tmodo=2,s.split("|")):'"'==s.charAt(0)?s.slice(1,-1).split(" "):(s.split(""),tmodo=1);var l=LIM.crearbase(e);LIM.paxina();var c=[],p=[];void 0==e.donde&&LIM.comunes(l,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),(-1<s.indexOf("[o]")||-1<s.indexOf("[?]"))&&LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){for(var t=!0,r=l.querySelectorAll(".clesq-drag"),i=0;i<r.length;i++)"1"!=r[i].cnt&&(t=!1);0==t?LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),a=a.map(Number);var d="Vertical";1==o?(d="Horizontal",0==a[0]&&(a[0]=120)):0==a[0]&&(a[0]=140),0==a[1]&&(a[1]=60);var m=a[0],u=a[1];o=document.createElement("div"),l.appendChild(o),function(e,t,i){function n(e){for(var t=0;t<e.length;t++)if("*"!=e[t]&&"\t"!=e[t])return t;return e.length}var a=[0,0,0,0,0,0,0,0],o=e.split("|"),s=0;if(-1<e.indexOf("[?]"))for(e=0;e<o.length;e++)0<o[e].search("[?]")&&(o[e]=o[e].replace("[?]",i[s]+"[o]"),s++);var l,c,p,d,m="",u="";for(i=-1,e=s=0;e<o.length;e++)u=n(o[e]),-1<u&&(u!=s&&(i=s,s=u),u=(l=o[e],c=u,p=e,d=i,d="",l=l.slice(c),a[c]=p,0<l.indexOf("]")&&(d=l.substring(l.lastIndexOf("[")+1,l.lastIndexOf("]")),l=l.split("["+d+"]").join("")),l.replace(/\s+$/,""),l='{"texto":"'+(l=l.replace(/"/g,'\\"'))+'","num":"'+p+'","nivel":"'+c+'","pai":"'+a[c-1]+'","Action":"'+d+'","liga":""}',JSON.stringify(l),{datjs:l}).datjs,m+=u+",");r(o='{"esquema":['+m.substring(0,m.length-1)+"]}",t)}(s,o,[])}}function etiquetas(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t,r){g++,e.style.zIndex=g,t=parseInt(e.id);for(var i=f[t]=0;i<m;i++)if(r=h[i],LIM.estasobre(e,r,!1)){console.log(e.valor+"----"+r.valor),e.valor==r.valor?(console.log("si"),f[t]=1):f[t]=0;break}}e.properties.minheight="430",t=LIM.prc(t,e);for(var i=e.properties.modo||"1",n=e.properties.imaxe||"",a=[],o=[],s=[],l=[],c=[],p=e.properties.etiquetas.length,d=0;d<p;d++)a=e.properties.etiquetas[d].split("||"),o[d]=a[0],s[d]=a[1],l[d]=a[2];"7"==i&&(c=o);var m=o.length,u=LIM.crearbase(e);a=LIM.paxina();var f=Array(m),h=Array(m),v=Array(m);d=0;var g=1100;void 0==e.donde&&LIM.comunes(u,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),-1<"2379".indexOf(i)&&LIM.addEventSimple(LIM.esactividad(u,!0),"click",function(){var t=-1==f.toString().indexOf("0");if("9"==i){for(t=0;t<m;t++){var r=h[t];f[t]=v[t]==r.value?1:0}t=-1==f.toString().indexOf("0")}else if("2"==i){for(t=0;t<m;t++)r=h[t],v[t]==LIM.ttrim(r.value.toLowerCase())?f[t]=1:f[t]=0;t=-1==f.toString().indexOf("0")}"7"==i&&(t=!1,o.toString()==f.toString()&&(t=!0)),t?LIM.poneravaliacion(u,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(u,e.properties.mensamal,!1,e.properties.ffinal,e.num)}),""!=n&&((d=LIM.crearimaxe({pai:u,name:"imaxclasifica"+a,"":"",posx:0,posy:26,alttext:e.properties.alttext})).src=n,d.style.position="relative"),n=LIM.desordena(m),p=0;var x=LIM.creardom("div",u,"","cletq-marco");if("9"==i){var b=o.slice();LIM.revolve(b)}else if("5"==i){var L=LIM.creardom("div",u,"","cletq-ver");L.innerHTML=""}var y="cletq-punto";for("6"==i&&(y="cletq-lab"),d=0;d<m;d++){p="9"==i||"3"==i?n[d]:d;var M="7"==i?LIM.crearlink({pai:u,name:d+"etqpnt"+a,text:"",url:"javascript:;",cssclass:"cletq-punto",posx:s[d],posy:20+Number(l[d]),alttext:LIM.td("Seleccionar")}):LIM.creardom("div",u,d+"etqpnt"+a,y,s[d],20+Number(l[d]));switch(M.innerHTML=d+1,f[p]=0,i){case"1":L=LIM.creardom("div",x,"","cletq-base");var I=LIM.creardom("span",L,"","cletq-num");I.innerHTML=d+1,(M=LIM.creardom("span",L,"","cletq-txt")).innerHTML=o[p];break;case"2":L=LIM.creardom("div",x,"","cletq-base"),(I=LIM.creardom("span",L,"","cletq-num")).innerHTML=d+1,M=LIM.crearinput({pai:L,name:d+"input"+a,cssclass:"cletq-txt",posx:0,posy:-2,dimw:174,dimh:24,pholder:t.pholder}),h[d]=M,v[d]=o[d].toLowerCase();break;case"3":h[p]=M,M.valor=o[d],M=LIM.creardom("div",x,p+"baseetq"+a,"cletq-drag"),I=LIM.creardom("div",M,"","cletq-tri"),L=LIM.creardom("div",M,"","cletq-dragtxt"),M.style.cursor="pointer",LIM.drag(M,u,r),L.innerHTML=o[p],v[p]=o[p],M.valor=o[p];break;case"5":M.valor="<p>"+(d+1)+"- "+o[d]+"</p>",M.son=c[d],M.onmouseover=function(){L.innerHTML=this.valor},M.onmouseout=function(){L.innerHTML=""},M.onclick=function(){LIM.sonar(this.son)},M.style.cursor="pointer";break;case"6":M.innerHTML=o[d];break;case"7":M.valor=o[d],M.num=d,M.style.backgroundColor="yellow",M.onclick=function(){var e=this.num;"0"==f[e]?(f[e]="1",this.style.backgroundColor="red"):(f[e]="0",this.style.backgroundColor="yellow")},M.style.cursor="pointer";break;case"8":M.valor=o[d],M.onclick=function(){LIM.salto(this.valor)},M.style.cursor="pointer";break;case"9":v[p]=o[d],L=LIM.creardom("div",x,"","cletq-base"),(I=LIM.creardom("span",L,"","cletq-num")).innerHTML=d+1,M=LIM.crearselect(L,p+"baseetq"+a,"cletq-list",-1,0,b),h[p]=M}}}}function etiquetastxt(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t,r,i,n,a){var o=r.offsetLeft+r.offsetWidth;r=r.offsetTop+r.offsetHeight/2;var s=i.offsetTop+i.offsetHeight/2,l=i.offsetLeft-o,c=l/parseInt(2*Math.random()+2);i=o+c-n,l-=c,(o=LIM.creardom("div",e,t+"1l","",o,r)).style.position="absolute",o.style.width=c+"px",o.style.height=n+"px",o.style.backgroundColor=a,o.name="lina",r>s?((o=LIM.creardom("div",e,t+"2l","",i,s)).style.height=r-s+"px",r=s):((o=LIM.creardom("div",e,t+"2l","",i,r)).style.height=s-r+"px",r=r+s-r),o.style.width=n+"px",o.style.position="absolute",o.style.backgroundColor=a,o.name="lina",(o=LIM.creardom("div",e,t+"2l","",i,r)).style.width=n+l+"px",o.style.height=n+"px",o.style.position="absolute",o.style.backgroundColor=a,o.name="lina"}function i(e,t,r){L++,e.style.zIndex=L,t=parseInt(e.id);for(var i=0;i<h;i++){if(r=x[i],LIM.estasobre(e,r,!0)){g[t]=b[i]==e.id[0]?1:0;break}g[t]=0}}e.properties.minheight="430",t=LIM.prc(t,e);for(var n=e.properties.modo||"0",a=e.properties.tam||"14",o=e.properties.imaxe||"",s=e.properties.posx||0,l=e.properties.posy||0,c=[],p=[],d=[],m=[],u=e.properties.etiquetas.length,f=0;f<u;f++)c=e.properties.etiquetas[f].split("||"),p[f]=c[0],d[f]=c[1],m[f]=c[2];var h=p.length,v=LIM.crearbase(e);c=LIM.paxina();var g=Array(h),x=Array(h),b=Array(h);u=a+"px",f=0;var L=1100,y="#ff00ff #000000 #0000ff #fff000 #00ff00 #777777".split(" ");for(void 0==e.donde&&LIM.comunes(v,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),"0"!=n&&LIM.addEventSimple(LIM.esactividad(v,!0),"click",function(){if("1"==n)for(var t=0;t<h;t++)b[t]==LIM.ttrim(x[t].value.toLowerCase())?g[t]=1:g[t]=0;-1<g.toString().indexOf(0)?LIM.poneravaliacion(v,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(v,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),""!=o&&((f=LIM.crearimaxe({pai:v,name:"imaxclasifica"+c,"":"",posx:Number(s),posy:Number(l)+26,alttext:e.properties.alttext})).addEventListener("load",function(){var e=this.width+50;"2"==n&&(M.style.marginLeft=e+"px")}),f.src=o,f.style.position="relative"),o=LIM.desordena(h),s=0,f=l=0;f<h;f++)l=Math.max(l,p[f].length);if(l*=a-parseInt(a/2.6),"2"==n)var M=LIM.creardom("div",v,"","cletq2-marco");for(f=0;f<h;f++){if(s="0"==n?f:o[f],"4"!=n){var I=LIM.creardom("div",v,f+"punto"+c,"cletq2-txt",d[f],20+Number(m[f]));I.style.fontSize=u}switch(g[s]=0,n){case"0":I.innerHTML=p[f];break;case"1":a=LIM.crearinput({pai:v,name:f+"input"+c,cssclass:"cletq2-in",posx:d[f],posy:20+Number(m[f]),dimw:l+10,pholder:e.properties.pholder}),x[f]=a,b[f]=p[f].toLowerCase(),a.style.fontSize=u;break;case"2":I.innerHTML="&nbsp;",I.style.width=l+"px",x[s]=I,(a=LIM.creardom("div",M,s+"baseetq"+c,"cletq2-drag",592,10+40*f)).style.fontSize=u,a.style.width=l+"px",LIM.drag(a,v,i),a.innerHTML=p[s],b[s]=f;break;case"4":I.style.width="10px",I.style.height="14px",x[s]=I,I.style.backgroundColor=y[f],(a=LIM.creardom("div",v,f+"baseetq"+c,"cletiqueta",592,60*f)).style.position="absolute",a.innerHTML=p[f],b[s]=f,r(v,f+"baseetq"+c,I,a,2,y[f])}}}}function externa(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){e.properties.minheight="450";var r=(e=LIM.prc(t,e)).properties.externa||"",i=LIM.crearbase(e);i=LIM.creardom("div",i,"","clext-base"),i=LIM.creardom("div",i,"",""),0<r.indexOf("iframe")?i.innerHTML=r:i.innerHTML='<iframe src="'+r+'" class="clext-frm" >'+r+"</iframe>"}}function formulas(e){var t={};this.crear=function(){e.properties.minheight="360";var r=(e=LIM.prc(t,e)).properties.etiquetas||[""],i=e.properties.texto||"",n=r.length;if(0<n){i=[];for(var a=[],o=[],s=0;s<n;s++)arretq=r[s].split("||"),i[s]=arretq[0]||"",a[s]=arretq[1]||"",o[s]=arretq[2]||"";s=o[0].length}var l=LIM.crearbase(e);LIM.paxina(),void 0==e.donde&&LIM.comunes(l,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){for(var t=!0,r=c.length,i=0;i<r;i++)c[i]!=p[i].value&&(t=!1,p[i].value="");t?LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var c=[],p=[];(r=document.createElement("div")).setAttribute("class","clfor-b"),l.appendChild(r);for(var d=0;d<n;d++){var m=document.createElement("div");m.setAttribute("class","clfor-l"),r.appendChild(m);for(var u=0;u<s;u++){if("1"==o[d][u]){var f=document.createElement("div");f.setAttribute("class","clfor-c"),void 0!=i[d][u]&&(f.innerHTML=i[d][u])}else f=document.createElement("INPUT"),f.setAttribute("type","text"),f.setAttribute("maxlength","1"),f.setAttribute("class","clfor-c clfor-in"),c.push(i[d][u]),p.push(f);"s"==a[d][u]&&f.setAttribute("class",f.className+" clfor-sup"),"i"==a[d][u]&&f.setAttribute("class",f.className+" clfor-ind"),m.appendChild(f)}}}}function fraccion(e){var t={texto:"",imaxe:"",altimaxe:"",palabras:"",letras:""};this.crear=function(){function r(e,t,r){for(var i=1;i<r;i+=2)e=x*i,t=i-1,w=LIM.creardom("div",b,"","clfrac-cx",e,64),w.innerHTML=a[t],LIM.creardom("div",b,"","clfrac-se",e,135),t=i,w=LIM.creardom("div",b,"","clfrac-cx",e,144),w.innerHTML=a[t];for(i=1;i<r/3;i++)e=x*i+x,h?(w=LIM.creardom("div",b,"","clfrac-cx",e,103),w.innerHTML=c):"="==c&&(f=LIM.creardom("input",b,"","clfrac-cx",e,103))}function i(e,t,r,i,n){v=t*e+t,(w=LIM.creardom("div",r,"","clfrac-cx",v,103)).innerHTML="=",v=t*(e+1)+t,LIM.creardom("div",r,"","clfrac-se",v,135),w=LIM.creardom("input",r,"","clfrac-cx clfrac-re",v,64),i&&(w.value=i),f=LIM.creardom("input",r,"","clfrac-cx clfrac-re",v,144),n&&(f.value=n)}function n(e){var t=Math.pow(10,e)-1;return e=10*(e-1),document.getElementById("demo"),Math.floor(Math.random()*(t-e)+e)+1}e.properties.minheight="430";var a=(e=LIM.prc(t,e)).properties.numeros||[""],o=e.properties.resp||[""],s=e.properties.imaxe||"",l=e.properties.altimaxe||"",c=e.properties.forma||"+",p=e.properties.valor||"";if("1"==(e.properties.alea||"")){var d=Number(a[0]),m=Number(a[1]);a[0]=n(d),a[1]=n(m),a[2]=n(d),"1"==p?(a[3]=a[1],"-"==c&&a[0]==a[2]&&(a[0]+=1)):a[3]=n(m)}d=a.length;var u=LIM.crearbase(e);LIM.paxina();var f,h=!1,g="=",x=74;"r"!=c&&"p"!=c&&"="!=c&&(h=!0),void 0==e.donde&&LIM.comunes(u,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(u,!0),"click",function(){var t,r=!1;if(h){var i=w.value,n=f.value;if(o[0])if("s"==o[0]){var s=L;for(t=y;0!==t;){var l=t;t=s%t,s=l}s=L/(t=s),t=y/t,s==i&&t==n&&(r=!0)}else Number(o[0])==i&&Number(o[1])==n&&(r=!0);else i/n==L/y&&(r=!0)}"="==c&&f.value==g&&(r=!0),"p"==c&&u.querySelectorAll(".clfrac-sel").length==M&&(r=!0),"r"==c&&(i=w.value,n=f.value,i==Number(a[0])&&n==Number(a[1])&&(r=!0)),r?LIM.poneravaliacion(u,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(u,e.properties.mensamal,!1,e.properties.ffinal,e.num)}),(p=document.createElement("div")).setAttribute("class","clfrac-cim"),s&&((m=document.createElement("img")).setAttribute("src",s),m.setAttribute("class","clim-adx"),m.setAttribute("alt",l),p.appendChild(m)),u.appendChild(p);var b=LIM.creardom("div",u,"","");switch(l=d/2+1,c){case"+":var L=Number(a[0])*Number(a[3])+Number(a[1])*Number(a[2]),y=Number(a[1])*Number(a[3]);r(x,b,d),i(l,x,b);break;case"-":L=Number(a[0])*Number(a[3])-Number(a[1])*Number(a[2]),y=Number(a[1])*Number(a[3]),r(x,b,d),i(l,x,b);break;case"x":L=Number(a[0])*Number(a[2]),y=Number(a[1])*Number(a[3]),r(x,b,d),i(l,x,b);break;case"/":L=Number(a[0])*Number(a[3]),y=Number(a[1])*Number(a[2]),r(x,b,d),i(l,x,b);break;case"=":L=Number(a[0])/Number(a[1]),y=Number(a[1])/Number(a[2]),L>y&&(g="<"),L<y&&(g=">"),r(x,b,d);break;case"r":if(""==s){"1"==a[1]&&(a[1]="2");var M=s=Number(a[0]);if(m=d=Number(a[1]),s>d){for(var I=parseInt(s/d),N=0;N<I;N++){var w=LIM.creardom("div",p,"","clfrac-en");w.innerHTML="u"}LIM.creardom("p",p,"","clfrac-l"),M=s%d}for(N=0;N<M;N++)w=LIM.creardom("div",p,"","clfrac-pt clfrac-sel");for(N=0;N<m-M;N++)w=LIM.creardom("div",p,"","clfrac-pt")}i(l-2,x,b);break;case"p":if("1"==a[1]&&(a[1]="2"),""==s){if(s=Number(a[0]),d=Number(a[1]),M=s,m=d,s>d){for(I=parseInt(s/d),N=0;N<I;N++)w=LIM.creardom("div",p,"","clfrac-en"),w.innerHTML="u";LIM.creardom("p",p,"","clfrac-l"),M=s%d}for(N=0;N<m;N++)w=LIM.creardom("div",p,"","clfrac-pt"),w.addEventListener("click",function(){this.classList.toggle("clfrac-sel")})}r(x,b,2)}b.className="clfrac-base"}}function frases(e){this.crear=function(){e.properties.minheight="430";var t=e.properties.imaxes||[],r=e.properties.textos||[],i=e.properties.respuestas||[],n=e.properties.sons||[],a=e.properties.modo||0;if(t=LIM.addrecu(t),n=LIM.addrecu(n),1==a&&(r=i),0<t.length)var o=t.length;else 0<i.length&&(o=i.length);var s=t.length,l=LIM.crearbase(e),c=LIM.paxina();void 0==e.donde&&LIM.comunes(l,e.properties.txcabe,e.properties.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),1!=a&&LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){for(var t,r=!0,n=0;n<o;n++)p[n].value==i[n]?t="1px":(t="5px",r=!1),p[n].style="border-width:"+t;r?LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num)}),(s=Array(s)).fill(0)||s.join("0").split("").map(parseFloat);for(var p=[],d=LIM.creardom("div",l,c+"frsb","clfrase-base"),m=0;m<o;m++){if(LIM.nozero(t[m])){var u=LIM.creardom("button",d,m+"frst"+c,"clfrase-im");u.style="background-image: url("+t[m]+");"}else u=LIM.creardom("button",d,m+"frst"+c,"clfrase-txt"),u.innerHTML=r[m];if(1==a){var f=LIM.creardom("button",d,m+"frsin"+c,"clfrase-ver");f.innerHTML=r[m],f.setAttribute("readonly","readonly")}else f=LIM.crearinput({pai:d,name:m+"frsin"+c,cssclass:"clfrase-input",pholder:e.properties.pholder});p[m]=f,s[0]=0,LIM.nozero(n[m])&&(u.style.cursor="pointer",r[m]||(u.innerHTML="&#9654"),LIM.addEventSimple(u,"click",function(){var e=parseInt(this.id);n[e]&&LIM.sonar(n[e])}))}}}function galeriaimx(e){var t={textos:[],imaxgr:[],imaxes:[],imaxeAltText:[],sons:[],mensaben:"",mensamal:""},r=new Audio;r.preload="auto",t=LIM.qhtml(e.donde,t),this.crear=function(){function i(){var t=parseInt(this.id);document.getElementById("vista").style.display="block",document.getElementById("btvx").focus(),document.getElementById("vistatexto").innerHTML=e.properties.textos[t]||"";var i=LIM.tcontido(e.properties.imaxgr[t]),n=document.getElementById("vistaimaxe");"s"==i?LIM.crearswf(n,"",e.properties.imaxgr[t],"clgal-imgrande",0,0,360,300,""):"v"==i?(i=LIM.crearvid(n,"",e.properties.imaxgr[t],"clgal-imgrande",0,0,360,300,"")).style.border="solid 1px #cccccc":n.innerHTML="i"==i?'<img src="'+e.properties.imaxgr[t]+'" class="clgal-imgrande" title="">':e.properties.imaxgr[t],LIM.nozero(e.properties.sons[t])&&(r.src=e.properties.sons[t],r.play())}e.properties.minheight="460";var n=(e=LIM.prc(t,e)).properties.imaxes.length,a=LIM.crearbase(e),o=Array(n),s=e.paxina,l=0,c="gal"+s,p=null,d=!1;for(s=LIM.paxina(),void 0==e.donde&&LIM.comunes(a,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),l=0;l<n;l++){d=!1;var m=LIM.creardom("button",a,l+c,"clgal-base",-1,-1);o[l]=m,LIM.nozero(e.properties.textos[l])&&((p=LIM.creardom("div",m,"","clgal-texto",0,0)).innerHTML=e.properties.textos[l].split("|")[0],void 0!=e.properties.textos[l].split("|")[1]&&(d=!0)),p=LIM.creardom("div",m,"","clgal-imaxe",-1,-1),(p=LIM.crearimaxe({pai:p,name:l+"gimx"+s,cssclass:"",alttext:e.properties.alttext})).style.visibility="hidden",LIM.cargaimaxe(p,e.properties.imaxes[l],248,176,"",!0,!0),void 0!=e.properties.imaxgr[l]&&""!=e.properties.imaxgr[l]||(e.properties.imaxgr[l]=e.properties.imaxes[l]),d?LIM.addEventSimple(m,"click",function(){var t=parseInt(this.id);LIM.salto(e.properties.textos[t].split("|")[1])}):LIM.addEventSimple(m,"click",i)}void 0!==document.getElementById("vista")&&(n=LIM.creardom("div",a.parentNode,"vista","clgal-big",0,0),LIM.creardom("div",n,"vistatexto","clgal-bigtx"),LIM.creardom("div",n,"vistaimaxe","clgal-bigim"),(n=LIM.creardom("button",n,"btvx","clgal-bigx")).innerHTML="X",n.setAttribute("title",LIM.td("Cerrar"))),LIM.addEventSimple(document.getElementById("btvx"),"click",function(){this.parentNode.style.display="none",document.getElementById("vistaimaxe").innerHTML="",r.pause(),r.currentTime=0})}}function galeriasons(e){var t={textos:[],imaxes:[],imaxeAltText:[],sons:[]};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(t){c.src=e.properties.sons[parseInt(t.id)],c.play()}e.properties.minheight="460";var i=(e=LIM.prc(t,e)).properties.sons.length,n=LIM.crearbase(e),a=LIM.paxina(),o=Array(i),s=0,l="gals"+a,c=null,p="";for(void 0==e.donde&&LIM.comunes(n,e.properties.txcabe,e.properties.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),(c=LIM.creardom("audio",n,"","clson-au")).src="",c.controls=!0,LIM.creardom("p",n,"",""),s=0;s<i;s++){p="";var d=LIM.creardom("button",n,s+l,"clson-base0");if(o[s]=d,0==e.properties.modo){if(e.properties.textos[s]){var m=LIM.creardom("div",d,"","clgal-texto",-1,-1);m.innerHTML=e.properties.textos[s].split("|")[0],void 0!=e.properties.textos[s].split("|")[1]&&(p=e.properties.textos[s].split("|")[1])}e.properties.imaxes[s]&&(m=LIM.creardom("div",d,"","clgal-imaxe",-1,-1),objix=LIM.crearimaxe({pai:m,name:s+"simx"+a,cssclass:"",alttext:e.properties.alttext}),objix.style.visibility="hidden",LIM.cargaimaxe(objix,e.properties.imaxes[s],248,176,"",!0,!0))}else d.className="clson-base1",e.properties.imaxes[s]&&(m=LIM.creardom("div",d,"","clson-cim"),m=LIM.crearimaxe({pai:m,name:s+"simx"+a,cssclass:"clson-im",alttext:e.properties.alttext}),m.src=e.properties.imaxes[s]),LIM.nozero(e.properties.textos[s])&&(m=LIM.creardom("span",d,"","clson-sotext",-1,-1),m.innerHTML=e.properties.textos[s]);""!=e.properties.sons[s]&&void 0!=e.properties.sons[s]&&(""!=p?LIM.addEventSimple(d,"click",function(){r(this);var t=parseInt(this.id);LIM.salto(e.properties.textos[t].split("|")[1])}):LIM.addEventSimple(d,"click",function(){r(this)}))}}}function identificarimx(e){var t={imaxes:[],altimaxes:[],textos:[],sons:[],color:""};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e){e=parseInt(this.id),LIM.sonar(m[e])}function i(t,r,i){for(var n=parseInt(t.id),m=c[n]=0;m<l;m++){var u=p[m];c[n]=0,LIM.ratosobre(t,u,r,i,!1)&&(u.style.height=t.offsetHeight+"px","3"==s?a[n]==d[m]&&(c[n]=1,m=l):t.innerHTML==d[m]&&(c[n]=1,m=l))}-1==c.toString().indexOf(0)&&LIM.poneravaliacion(o,e.properties.mensaben,!0,e.properties.ffinal,e.num)}e.properties.minheight="430";var n=(e=LIM.prc(t,e)).properties.textos||[],a=e.properties.sons||[],o=LIM.crearbase(e),s=e.properties.modo||"2",l="3"!=s?n.length:a.length;n=LIM.paxina();var c=Array(l),p=Array(l),d=Array(l),m=Array(l),u=0,f=mh=0,h="";void 0==e.donde&&LIM.comunes(o,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(o,!0),"click",function(){var t=!0;if("1"!=s)-1<c.toString().indexOf(0)&&(t=!1);else for(var r=0;r<p.length;r++)p[r].value.toLowerCase()!=d[r]&&(t=!1);return t?LIM.poneravaliacion(o,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(o,e.properties.mensamal,!1,e.properties.ffinal,e.num),!0});var v=LIM.desordena(l),g="cliden-base";if("3"==s){for(u=0;u<l;u++){var x=LIM.creardom("div",o,u+"igal"+n,"cliden-destim",-1,-1);p[u]=x,e.properties.sons[u]&&(m[u]=e.properties.sons[u],LIM.addEventSimple(x,"click",r),x.style.cursor="pointer"),g="cliden-mov"}for((x=LIM.creardom("div",o,"","")).style.clear="both",u=0;u<l;u++){netq=v[u],x=LIM.creardom("div",o,netq+"igalm"+n,g,-1,-1),h=LIM.creardom("div",x,"","cliden-imaxe",-1,-1);var b=LIM.crearimaxe({pai:h,name:netq+"iimx"+n,cssclass:"",posx:1,posy:1,alttext:e.properties.alttext});d[u]=a[u],e.properties.imaxes[netq]&&(LIM.cargaimaxe(b,e.properties.imaxes[netq],238,156,"",!0,!0),c[u]=0,LIM.drag(x,o,i))}}else{for(u=0;u<l;u++)netq=v[u],x=LIM.creardom("div",o,"","cliden-base",-1,-1),h=LIM.creardom("div",x,netq+"igal"+n,"cliden-imaxe",-1,-1),p[netq]=h,b=LIM.crearimaxe({pai:h,name:netq+"iimx"+n,cssclass:"",posx:1,posy:1,alttext:e.properties.alttext}),e.properties.imaxes[netq]?LIM.cargaimaxe(b,e.properties.imaxes[netq],238,156,"",!0,!0):h.innerHTML="<span>?</span>",e.properties.sons[netq]&&(m[netq]=e.properties.sons[netq],LIM.addEventSimple(h,"click",r),b.style.cursor="pointer"),"2"==s?(h=LIM.creardom("div",x,netq+"txt"+n,"cliden-dest",-1,-1),h.innerHTML=""):"1"==s&&(h=LIM.crearinput({pai:x,cssclass:"cliden-in",pholder:e.properties.pholder}),d[netq]=e.properties.textos[u].toLowerCase()),p[netq]=h;if("2"==s){for(x=LIM.creardom("div",o,"","cliden-betiq",-1,-1),u=0;u<l;u++)g=LIM.creardom("div",x,u+"ietiq"+n,"cliden-etiq",-1,-1),h=e.properties.textos[u]||"","i"==LIM.tcontido(h)?(h='<img class="cladx-im" src="'+e.properties.textos[u]+'" />',f=152,g.style.height=150..toString()+"px"):h=e.properties.textos[u],g.innerHTML=h,netq=v[u],d[u]=g.innerHTML,LIM.drag(g,o,i),c[u]=0,mh=g.offsetHeight,mh>f&&(f=mh);for(x.style.display="none",u=0;u<l;u++)p[u].style.height=f+"px";x.style.display="block"}}}}function imaxetexto(e){var t={texto:"",cfondo:"",ctexto:""};t=LIM.qhtml(e.donde,t),this.crear=function(){e.properties.minheight="430",e=LIM.prc(t,e);var r=LIM.crearbase(e);document.createElement("div"),(r=r.getElementsByTagName("font"))&&LIM.cambiafont(r)}}function letras(e){var t={};this.crear=function(){function r(e,t,r){var i=parseInt(e.id);h[i]&&(h[i].innerHTML=" "),h[i]=200,e.style.visibility="hidden",t=document.elementFromPoint(t,r),parseInt(t.id),e.style.visibility="visible","clletras-letra"==t.className?(e.style.position="absolute",h[i]=t,t.innerHTML=e.innerHTML,e.style.left=t.style.left,e.style.top=t.style.top):e.style.top="0px"}e.properties.minheight="430";var i,n=(e=LIM.prc(t,e)).properties.palabras||[""],a=e.properties.imaxes||[],o=e.properties.altimaxes||[""],s=e.properties.sons||[""],l=e.properties.texto||"",c=e.properties.letras||"",p=LIM.crearbase(e),d=LIM.paxina(),m=20,u=20,f="ltr"+d,h=[],v=i="",g="",x=!1,b="",L=0;LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){for(var t="",r=I.querySelectorAll(".clletras-letra"),i=0;i<r.length;i++)t+=r[i].innerHTML;g==t?LIM.poneravaliacion(p,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(p,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var y=n.length,M=0;if(""!=l){var I=LIM.creardom("div",p,"","clletras-txt");I.innerHTML=l,u+=10}for(I=LIM.creardom("div",p,"","clletras-base"),l=0;l<y;l++){if(m=20,v="",-1<(i=n[l]).indexOf("_")){for(x=!0,v=i.split("_"),m=1;m<v.length;m++)b+=v[m][0],v[m]=v[m].substring(1);v=v.join(" "),i=i.replace(RegExp("_","g"),""),n[l]=i}else x=!1,b+=i;g+=i;var N=document.createElement("div");N.setAttribute("class","clletras-cim"),a[l]&&((m=document.createElement("img")).setAttribute("src",a[l]),m.setAttribute("class","clletras-im"),m.setAttribute("alt",o[l]),N.appendChild(m)),I.appendChild(N),m=190,s[l]&&(LIM.addEventSimple(N,"click",function(){var e=parseInt(this.id);LIM.sonar(s[e])}),N.style.cursor="pointer"),N=i.length;for(var w=0;w<N;w++)i=document.createElement("div"),i.setAttribute("id",M+f),i.setAttribute("class","clletras-letra"),I.appendChild(i),L=m+74*w,x&&(i.innerHTML=v[w]," "!=v[w]&&i.setAttribute("class","clletras-letra clletras-fx")),i.style.left=L+"px",i.style.top=u+"px",M++;u+=130}for(f="ltrd"+d,LIM.creardom("span",I,"","clletras-mar"),n=b,c&&(n+=c),N=n.length,c=LIM.desordena(N),w=0;w<N;w++)i=LIM.creardom("div",I,w+f,"clletras-drag"),i.innerHTML=n[c[w]],h[c[w]]=null,LIM.drag(i,p,r)}}function liga(e){this.crear=function(){function t(e,t){for(a=0;a<d;a++){var s=LIM.crearlink({pai:u,url:"javascript:LIM.salto('"+i[a]+"')",posx:n[a],posy:o[a],text:r[a],cssclass:t,alttext:r[a]});e&&(s.style.backgroundImage="url("+c+")")}}e.properties.minheight="430";var r=e.properties.liga,i=e.properties.ir,n=e.properties.posx,o=e.properties.posy,s=e.properties.imaxe||"",l=e.properties.altimaxe||"",c=e.properties.forma||"",p=e.properties.modo||"0",d=i.length,m=LIM.crearbase(e);LIM.paxina();var u=LIM.creardom("div",m,"","clliga-base");if("1"==p)for(a=0;a<d;a++)LIM.crearlink({pai:u,url:"javascript:LIM.salto('"+i[a]+"')",text:r[a],cssclass:"clliga-boton",alttext:r[a]});else e.properties.texto&&(LIM.creardom("div",m,"","clliga-text",10,5).innerHTML=e.properties.texto),""!=s&&(p=document.createElement("IMG"),p.src=s,p.className="clliga-im",p.title=l,u.appendChild(p)),c?(s=new Image,s.src=c,s.onload=function(){t(1,"clliga-bti")}):t(0,"clliga-bt clliga-sty")}}function medidas(e){var t={};this.crear=function(){function r(e){var t=e.target;"clmed-c"!=t.className&&(t=e.target.parentNode),e=parseInt(t.id),(t=document.createElement("img")).className=d[e].toString()+" clmed-dr",t.src=u[e],t.title=f[e],t.valor=d[e],b.appendChild(t),LIM.drag(t,b.parentNode,i),g+=d[e],LIM.addEventSimple(t,"dblclick",n)}function i(e,t,r){t=Number(e.className.replace(/[^0-9.]/g,"")),LIM.estasobre(e,L)&&(g-=Number(t),e.parentNode.removeChild(e))}function n(e){e=e.target;var t=Number(e.className.replace(/[^0-9.]/g,""));g-=Number(t),e.parentNode.removeChild(e)}selecciona=LIM.prc(t,e),e.properties.minheight="430";for(var a=e.properties.imaxe||"",o=e.properties.texto||"",s=e.properties.altimaxe||"",l=e.properties.etiquetas||[],c=Number((e.properties.valor||"5").replace(",",".")),p=[],d=[],m=[],u=[],f=[],h=l.length,v="",g=0,x=0;x<h;x++)p=l[x].split("||"),v=p[0]||"1",d[x]=Number(v.replace(",",".")),m[x]=p[1]||"",u[x]=p[2]||"",f[x]=p[3]||"";var b=LIM.crearbase(e);l=LIM.paxina(),LIM.addEventSimple(LIM.esactividad(b,!0),"click",function(){c==g?LIM.poneravaliacion(b,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(b,e.properties.mensamal,!1,e.properties.ffinal,e.num)}),""!=o&&((p=LIM.creardom("span",b,"","clmed-s")).innerHTML=o),""!=a?((x=document.createElement("img")).className="clmed-b clmed-bi",x.src=a,x.title=s):(x=document.createElement("div")).className="clmed-b",b.appendChild(x);var L=LIM.creardom("div",b,"","clmed-m");for(x=0;x<h;x++)a=LIM.creardom("div",L,x.toString()+"med"+l.toString(),"clmed-c",0,0),s=LIM.crearimaxe({pai:a,cssclass:"clmed-i",alttext:f[x]}),s.style.visibility="hidden",LIM.cargaimaxe(s,u[x],144,96,"",!0,!0),""!=m[x]&&(p=LIM.creardom("span",a,"","clmed-t"),p.innerHTML=m[x]),LIM.addEventSimple(a,"click",r);LIM.creardom("div",L,"","clmed-d")}}function memoria(e){this.crear=function(){function t(e){for(var t=0;25>t;t++)1==e&&1==p[t]&&(d[t].parentNode.className="clmem-cadro clmem-ben"),d[t].style.visibility="hidden"}e.properties.minheight="430";var r=e.properties.imaxes||["",""],i=Number(e.properties.numero)||5,n=e.properties.forma||"0",a=e.properties.alea||"0",o=e.properties.altimaxe||"",s=r[0],l=LIM.crearbase(e),c=LIM.paxina();24<i&&(i=20),"1"==a&&(i=Math.floor(Math.random()*i+1)),(a=Array(i)).fill(r[0]),(i=Array(25-i)).fill(r[1]),imaxes=i.concat(a);var p=Array(25);p.fill(0);var d=Array(25);LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(r){r=!0;for(var i=0;25>i;i++)1==p[i]?"clmem-tapa clmem-sel"!=d[i].className&&(r=!1):0==p[i]&&"clmem-tapa clmem-sel"==d[i].className&&(r=!1);r?(t(1),LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num)):LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var m=function(e,t,r,i){return r=t+"mem"+r,(e=document.createElement("div")).className="clmem-cadro",e.id=r,l.appendChild(e),self=this,LIM.crearimaxe({pai:e,cssclass:"clmem-im",alttext:"",posx:0,posy:0}).src=i,(i=document.createElement("div")).className="clmem-tapa",e.appendChild(i),"1"==n&&(i.innerHTML=t.toString()),LIM.addEventSimple(i,"click",function(){this.className="clmem-tapa clmem-sel"==this.className?"clmem-tapa":"clmem-tapa clmem-sel"}),i};r=LIM.creardom("div",l,"","clmem-cadro clmem-mod"),o=LIM.crearimaxe({pai:r,alttext:o}),LIM.cargaimaxe(o,s,104,104,"",!0,!0),LIM.addEventSimple(o.parentNode,"mousedown",function(){t(0)}),LIM.addEventSimple(o.parentNode,"mouseleave",function(){for(var e=0;25>e;e++)d[e].style.visibility="visible",d[e].className="clmem-tapa"}),function(e){for(var t,r=LIM.desordena(25),i=0;i<25;i++)t=r[i],imaxes[t]==s&&(p[i]=1),d[i]=new m(l,i+1,c,imaxes[t])}()}}function menu(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){e.properties.minheight="430";var r=(e=LIM.prc(t,e)).properties.ctexto||"",i=e.properties.cfondo||"",n=LIM.crearbase(e),a=n.querySelector(".clmenu-base");if(a){var o=document.createElement("DIV");o.className="clmenu-tabcontent",a.appendChild(o);var s=n.querySelector(".clmenu-tab");a=s.querySelectorAll(".clmenu-bottab"),s.querySelectorAll(".clmenu-contenttab");var l=a[0];for(l.classList.add("clmenu-selected"),o.innerHTML=a[0].parentNode.querySelector(".clmenu-contenttab").innerHTML,s=0;s<a.length;s++)""!=r&&(a[s].style.color="#"+r),""!=i&&(a[s].style.backgroundColor="#"+i),a[s].addEventListener("click",function(e){o.innerHTML=this.parentNode.querySelector(".clmenu-contenttab").innerHTML,l.classList.remove("clmenu-selected"),this.classList.add("clmenu-selected"),l=this})}(r=n.getElementsByTagName("font"))&&LIM.cambiafont(r)}}function moverimx(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(t,r,i){if(v++,t.style.zIndex=v,r=parseInt(t.id),"2"==e.properties.modo)for(i=0;i<m;i++)LIM.estasobre(t,h[i],!0)?(f[r]=1,i=m,-1==f.toString().indexOf(0)&&LIM.poneravaliacion(u,e.properties.mensaben,!0,e.properties.ffinal,e.num)):f[r]=s[r]==b?1:0;else LIM.estasobre(t,h[r],!0)?(f[r]=1,-1==f.toString().indexOf(0)&&LIM.poneravaliacion(u,e.properties.mensaben,!0,e.properties.ffinal,e.num)):f[r]=0}t=LIM.prc(t,e),e.properties.minheight="430";for(var i=e.properties.modo||"1",n=e.properties.imaxe||"",a=[],o=[],s=[],l=[],c=[],p=e.properties.etiquetas.length,d=0;d<p;d++)a=e.properties.etiquetas[d].split("||"),o[d]=a[0]||"",s[d]=a[1]||0,l[d]=a[2]||0,c[d]=a[3]||"",l[d]=Number(l[d])+20;var m=o.length,u=LIM.crearbase(e);a=LIM.paxina();var f=Array(m),h=Array(m);d=0;var v=1100;if(""!=n){void 0==e.donde&&LIM.comunes(u,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),"3"!=i&&LIM.addEventSimple(LIM.esactividad(u,!0),"click",function(){return-1<f.toString().indexOf(0)?LIM.poneravaliacion(u,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(u,e.properties.mensaben,!0,e.properties.ffinal,e.num),!0}),i=LIM.desordena(m);var g=0,x=void 0;g=null;var b=630;for(p=LIM.creardom("div",u,"","clcol1"),(d=LIM.crearimaxe({pai:p,name:"imaxmove"+a,cssclass:"",posx:1,posy:1,alttext:e.properties.alttext})).src=n,d.style.top="20px",d.style.position="relative",n=LIM.creardom("div",u,"","clmovimx-marco"),d=0;d<m;d++)g=i[d],x=LIM.creardom("div",p,d+"punto"+a,"clmovimx-punto",Number(s[d]),Number(l[d])),h[d]=x,"1"!=e.properties.modo&&(x.style.opacity="0.0",x.style.filter="alpha(opacity=0)"),g=LIM.crearimaxe({pai:n,name:d+"imx"+a,cssclass:"",posy:50*g,alttext:c}),LIM.cargaimaxe(g,o[d],500,500,"",!1,!1),LIM.drag(g,u,r),f[d]=0,s[d]==b&&(f[d]=1)}}}function operacion(e){var r={};r=LIM.qhtml(e.donde,r);var i=this;this.crear=function(){function a(e,t,r,a,o,s,l,c){a="",l=0;var m=null,u=e.length+1,f="";for(n=1;n<u;n++)l++,f=e.substr(-n,1),m=o?LIM.crearinput({pai:g,cssclass:"clopera-in",posx:t-l*I,posy:E+r*I+5,pholder:" "}):LIM.creardom("div",g,"","clopera-b",t-l*I,E+r*I+5),void 0!=f&&("."==f?(l--,a=1==s?w:""):(1==c&&(m.dd=!0,m.let=f.toString()+a,m.cssstyleName="txop dest",M++,"1"==i.modo&&(m.onclick=function(){i.innerHTML=""}),"2"==i.modo&&(m.onPress=function(){})),1==o?(d.push(f.toString()+a),p.push(m)):m.innerHTML=f.toString()+a,"x"!=f&&"+"!=f&&"-"!=f||(m.onPress=function(){}),a="")),N[S]=f.toString()+a,S++}function o(e,t){var r=parseInt(e);return String(r)}function s(e,t){for(var r="1",i=0;i<t;i++)r+="0";return r=Number(r),e==parseInt(e)?e/r:parseInt(e*r)/r}function l(e,t,r){var i=N.length,n=parseInt(e.id);for(e.style.top="380px",e.style.left=LIM.dom(n+"cadr").style.left,n=0;n<i;n++){var a=LIM.dom(n+"dst");if(LIM.ratosobre(e,a,t,r,!1)&&"txop dest"==a.cssstyleName){a.innerHTML=e.innerHTML;break}}}var p=[],d=[];e.properties.minheight="430",r=LIM.prc(r,e);var m=e.properties.forma||"+",u=e.properties.numeros||[""],f=e.properties.alea||"0",h=LIM.crearbase(e),v=LIM.paxina();LIM.addEventSimple(LIM.esactividad(h,!0),"click",function(){for(var t=!0,r=p.length,i=0;i<r;i++)p[i].value!=d[i]&&(p[i].value="",t=!1);t?LIM.poneravaliacion(h,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(h,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var g=LIM.creardom("div",h,"txpanel"+v,"",0,0);"1"==f&&(resalea=function(e,t,r){var i=0,n=[],a=0,o=0;10<(o=Number(e))&&(o=10),10<(t=Number(t))&&(t=10);var s,l,c,p,d=Math.pow(10,o)-1,m=Math.pow(10,o-1);switch(d=(e=(i=Math.floor(Math.random()*(d-m+1))+m).toString()).length-1,n[0]=e,m="",r){case"0":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;0==a&&(a=1),n[1]=a.toString(),m="+";break;case"1":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;1==t&&0==a&&(a=1),a<i?n[1]=a.toString():(n[0]=a.toString(),n[1]=e),m="-";break;case"2":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;n[1]=a.toString(),m="x";break;case"3":if(a=0,o!=t)for(d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(;0==a;)a=Math.floor(9*Math.random())+1;a>e?(n[1]=e.toString(),n[0]=a.toString()):n[1]=a.toString(),m="/";break;case"4":for(r=d;-1<r;r--)a+=Math.pow(10,r)*(l=Number(e.charAt(d-r)),c=9,p=0,Math.floor(Math.random()*(c-l-p+1))+p);0==a&&(a=1,1>--i&&(i=8)),e=i.toString(),n[0]=e,n[1]=a.toString(),m="+";break;case"5":for(r=d;-1<r;r--)posn=d-r,a+=Math.pow(10,r)*(s=Number(e.charAt(d-r)),0==s?0:Math.floor(Math.random()*s));0==a&&(a=1,9<(i+=1)&&(i=9)),e=i.toString(),n[0]=e,n[1]=a.toString(),m="-";break;case"7":if(o>=t){for(i=a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==i;)i=Math.floor(Math.random()*(d-m+1))+m;if(o!=t)for(d=Math.pow(10,o-t)-1,m=Math.pow(10,o-t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(a=Math.floor(9*Math.random())+1,o=(i*a).toString().length;o>t;)--a,o=(i*a).toString().length;n[0]=(i*a).toString(),n[1]=i.toString(),m="/"}break;case"8":if(a=0,o!=t)for(d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(;0==a;)a=Math.floor(9*Math.random())+1;a>e?(n[1]=e.toString(),n[0]=a.toString()):n[1]=a.toString(),m="d";break;case"9":if(o>=t){for(i=a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==i;)i=Math.floor(Math.random()*(d-m+1))+m;if(o!=t)for(d=Math.pow(10,o-t)-1,m=Math.pow(10,o-t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(a=Math.floor(9*Math.random())+1,o=(i*a).toString().length;o>t;)--a,o=(i*a).toString().length;n[0]=(i*a).toString(),n[1]=i.toString(),m="d"}break;case"6":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;console.log(a),n[1]=a.toString(),"0"==n[1].slice(-1)&&(n[1]=(a+1).toString()),m="x"}return(i={}).nume=n,i.opera=m,i}(u[0],u[1],m),u=resalea.nume,m=resalea.opera);var x=0,b=0,L="",y=1;b=u.length;var M=60,I=42;v=680;var N=[],w=".",E=5,S=0;for(f=0;f<b;f++)x=u[f].toString(),-1<x.indexOf(",")&&(u[f]=Number(x.replace(",",".")),w=",");switch(f="",m){case"x":f=u[0];var k=u[1];if(a(f,v-I,1,10,i.tdocl,1,i.tdocl,i.tdocl),a("x  "+k,v-I,2,20,i.tdocl,1,i.tdocl,i.tdocl),1<k.length){for(c=0,sin="";c<f.length;)"."!=f.substr(c,1)&&(sin+=f.substr(c,1)),c++;for(c=0,sin2="";c<k.length;)"."!=k.substr(c,1)&&(sin2+=k.substr(c,1)),c++}else sin=f,sin2=k;if(tempnum=lnf=0,long=sin2.length,"0"==k.substr(0,1)){for(t=tnum=1;t<sin2.length;t++)"0"==sin2.substr(t,1)?tnum++:t=sin2.length;long-=tnum,1==long&&(long=0)}if(1==long)lnf++,x=Number(f)*Number(k),pasar=x.toString(),a(pasar,v-y*I,lnf+2,M,1,1,1,1);else for(t=1;t<long+1;t++)lnf++,x=Number(sin)*Number(sin2.substr(-t,1)),0==x?(L+="0",lnf--):(pasar=x.toString()+L,a(pasar.toString(),v-y*I,lnf+2,M,1,1,1,1),y=y+L.length+1,L="");if(lnf++,x=(Number(f)*Number(k)).toString(),y=sin*sin2,L=x.indexOf("."),c=y.toString().length-x.length,-1!=L&&(c+=1),-1!=f.toString().indexOf(".")||-1!=k.toString().indexOf("."))for(-1==L&&(x+="."),t0=0;t0<c;t0++)x+="0";(y=LIM.creardom("div",g,"","",v-I-x.length*I,E+128)).style.width=x.length*I+"px",y.style.height="2px",y.style.backgroundColor="#000000",y.style.position="absolute",1<sin2.length&&((y=LIM.creardom("div",g,"","",v-I-x.toString().length*I-40,E+I*(lnf+2)+2)).style.width=60+x.toString().length*I+"px",y.style.height="2px",y.style.backgroundColor="#000000",y.style.position="absolute",a(x,v-I,lnf+2,M,1,1,1,1));break;case"/":if(Number(u[0])<Number(u[1])&&u[0].length<=u[1].length)for(t=1;t<=u[1].length;t++)u[0]+=".0";if(m=560+u[1].length*I,a(u[1],m,1,10,i.tdocl,1,i.tdocl,i.tdocl),numerosin="",c=f=0,v=352,k=y=L=0,-1<(L=u[1].indexOf("."))?(k=(x=u[1].split("."))[1].length,numerosin2=0==x[0]?o(x[1]):o(x[0])+o(x[1]),v+=42*(L=numerosin2.length-L),a(u[0],m-u[1].length*I-10,1,20,i.tdocl,1,i.tdocl,i.tdocl)):(numerosin2=u[1],a(u[0],m-(u[1].length+1)*I-10,1,20,i.tdocl,1,i.tdocl,i.tdocl)),v=505,-1<(f=u[0].indexOf("."))?(y=(x=u[0].split("."))[1].length,numerosin=0==x[0]?o(x[1]):o(x[0])+o(x[1]),f=numerosin.length-f):(numerosin=u[0],f=0),L=numerosin.length,u[2]=Number(u[0])/Number(u[1]),y>=k)f=y-k;else for(m=0;m<k-y;m++)numerosin+="0";for(u[2]=s(u[2],f),cocient=String(u[2]),f=cocient.length,u[2]!=parseInt(u[2])&&--f,f=556+f*I,a(cocient,f,2,M,1,1,1,1),f-=cocient.length*I,(y=LIM.creardom("div",g,"","",f,E+80)).style.width="160px",y.style.height="2px",y.style.backgroundColor="#000000",y.style.position="absolute",(y=LIM.creardom("div",g,"","",f,E+50)).style.width="2px",y.style.height="30px",y.style.backgroundColor="#000000",y.style.position="absolute",u[1]=numerosin2,u[2]=Number(numerosin)/Number(u[1]),cocient=u[2].toString(),f=u[1].length,divd=numerosin.substr(0,f),desc=0;Number(divd)<u[1];)f++,divd=numerosin.substr(0,f);for(cociente=parseInt(divd/u[1]),numres=Number(cocient.substr(0,1))*Number(u[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(y=medio.toString().length)<=(k=numress.length)&&y<u[1].length?a("0"+medio.toString(),v-(L-divd.length)*I,2,M,1,1,1,1):(a(medio.toString(),v-(L-divd.length)*I,2,M,1,1,1,1),M++),M--,final=divd.length,ft=1,m=t=0;t<numerosin.length-f;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(u[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,a(numerosin.substr(final,1),v-(L-final-1)*I,ft,M,1,1,1,1),0!=Number(cocient.substr(t,1))?(m++,y=medio.toString().length,k=numres.toString().length,y<=k&&y<u[1].length?a("0"+medio.toString(),v-(L-final-1)*I,ft+1,M,1,1,1,1):a(medio.toString(),v-(L-final-1)*I,ft+1,M,1,1,1,1)):ft--,final++;break;case"d":if(v=200,Number(u[0])<Number(u[1])&&u[0].length<=u[1].length)for(t=1;t<=u[1].length;t++)u[0]+=".0";if(u[1]==parseInt(u[1])){for(a(u[0],v+u[0].length*I+25,2,10,i.tdocl,1,i.tdocl,i.tdocl),a(u[1],v,2,20,i.tdocl,1,i.tdocl,i.tdocl),numerosin="",c=f=0;c<u[0].length;)"."!=u[0].substr(c,1)?numerosin+=u[0].substr(c,1):f=c+1,c++;for(u[2]=Number(u[0])/Number(u[1]),u[2]=s(u[2],f),f=k,cocient=u[2].toString(),a(cocient,v+u[0].length*I+25,1,M,1,1,1,1),L=v+(u[0].length-1)*I+25,f=v+30,(y=LIM.creardom("div",g,"","",f,E+86)).style.width="200px",y.style.height="2px",y.style.backgroundColor="#000000",y.style.position="absolute",(y=LIM.creardom("div",g,"","",f,E+86)).style.width="2px",y.style.height="35px",y.style.backgroundColor="#000000",y.style.position="absolute",u[2]=Number(numerosin)/Number(u[1]),cocient=u[2].toString(),f=u[1].length,divd=numerosin.substr(0,f),desc=0;Number(divd)<u[1];)f++,divd=numerosin.substr(0,f);for(cociente=parseInt(divd/u[1]),numres=Number(cocient.substr(0,1))*Number(u[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(y=medio.toString().length)<=(k=numress.length)&&y<u[1].length?a("0"+medio.toString(),L-(numerosin.length-divd.length-1)*I,3,M,1,1,1,1):(a(medio.toString(),L-(numerosin.length-divd.length-1)*I,3,M,1,1,1,1),M++),M--,final=divd.length,ft=2,t=0;t<numerosin.length-f;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(u[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,a(numerosin.substr(final,1),L-(numerosin.length-final-2)*I,ft,M,1,1,1,1),0!=Number(cocient.substr(t,1))?(y=medio.toString().length,k=numres.toString().length,y<=k&&y<u[1].length?a("0"+medio.toString(),L-(numerosin.length-final-2)*I,ft+1,M,1,1,1,1):a(medio.toString(),L-(numerosin.length-final-2)*I,ft+1,M,1,1,1,1)):ft--,final++}break;case"+":for(f=0,b=u.length,t=k=L=0;t<b;t++)L=u[t].indexOf(".",0),-1!=L&&(k=u[t].length-L-1,k>f&&(f=k));for(x=0,v-=50*f,t=0;t<b;t++)lonc=0,-1!=u[t].indexOf(".")&&(lonc=u[t].length-u[t].indexOf(".")-1),a(u[t],v+lonc*I,t+1,10*(t+1),i.tdocl,1,i.tdocl,i.tdocl),x+=Number(u[t]);if(y=x.toString(),a("+",650-x.toString().length*I,t,10*(t+1),0,1,0,0),(y=LIM.creardom("div",g,"","",650-x.toString().length*I,E+I*(t+1)+1)).style.width=100+x.toString().length*I+"px",y.style.height="2PX",y.style.backgroundColor="#000000",y.style.position="absolute",pasar=x.toString(),0<f)for(lonc=f,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):lonc=pasar.length-(pasar.indexOf(".")+1),t0=lonc;t0<f;t0++)pasar+="0";a(pasar,v+f*I,t+1,M,1,1,1,1);break;case"-":for(f=0,b=u.length,t=k=L=0;t<b;t++)L=u[t].indexOf(".",0),-1!=L&&(k=u[t].length-L-1,k>f&&(f=k));for(x=0,v-=50*f,t=0;t<b;t++)lonc=0,-1!=u[t].indexOf(".")&&(lonc=u[t].length-u[t].indexOf(".")-1),a(u[t],v+lonc*I,t+1,10*(t+1),i.tdocl,1,i.tdocl,i.tdocl),x=Number(u[b-t-1]-x);if(y=x.toString(),a("-",650-x.toString().length*I,t,10*(t+1),i.tdocl,1,i.tdocl,i.tdocl),(y=LIM.creardom("div",g,"","",650-x.toString().length*I,E+I*(t+1)+2)).style.width=x.toString().length*I+70+"px",y.style.height="2px",y.style.backgroundColor="#000000",y.style.position="absolute",pasar=x.toString(),0<f)for(lonc=f,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):lonc=pasar.length-(pasar.indexOf(".")+1),t0=lonc;t0<f;t0++)pasar+="0";a(pasar,v+f*I,t+1,M,1,1,1,1)}if(1==i.modo){for(trr=0;12>trr;trr++)switch(mover=LIM.creardom("div",g,trr+"cadr","tecla",40*trr+20,380),trr){case 10:mover.innerHTML=w;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}for(trr=0;12>trr;trr++){switch(mover=LIM.creardom("div",g,trr+"cadrm","tecla teclam",40*trr+20,380),trr){case 10:mover.innerHTML=w;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}LIM.drag(mover,h,l)}}}}function ordenar(e){var t={texto:"",imaxe:"",imaxeAltText:""};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t,r){var i=parseInt(e.id);if(e.style.visibility="hidden",r=document.elementFromPoint(t,r),e.style.visibility="visible",r.getClientRects(),e.style.position="absolute",d[i]=null,-1<r.className.indexOf("clordena-dest")){for(parseInt(r.id),m[i]=r,d[i]=e,t=e.innerHTML,r.style.width=e.offsetWidth+"px",e.style.left=h.offsetLeft+r.offsetLeft+"px",e.style.top=h.offsetTop-r.offsetTop+"px",e=0;e<s;e++)null!=d[e]&&(d[e].style.left=h.offsetLeft+m[e].offsetLeft+"px",d[e].style.top=h.offsetTop-v.offsetTop+m[e].offsetTop-1+"px");p[i]=o[i]==t?1:0}else p[i]=0}e.properties.minheight="430",e=LIM.prc(t,e);var i=Number(e.properties.modo||"0"),n=Number(e.properties.forma||"0"),a=e.properties.texto||"",o=0<a.indexOf("|")?a.split("|"):'"'==a.charAt(0)?a.slice(1,-1).split(" "):a.split(""),s=o.length,l=LIM.crearbase(e),c=LIM.paxina(),p=Array(s),d=Array(s),m=Array(s);a=0;var u="";void 0==e.donde&&LIM.comunes(l,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){var t=!0;if(0==i)for(var r=h.querySelectorAll(".clordena-dw"),n=0;n<r.length;n++)r[n].value.trim()!=o[n]?t=!1:(r[n].disabled=!0,r[n].className="clordena-dwfx");else 1==i&&-1<p.toString().indexOf(0)&&(t=!1);0==t?LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),void 0!=e.properties.imaxe&&(LIM.crearimaxe({pai:l,name:"ordena"+c,cssclass:"clordena-im",posx:50,posy:10,alttext:e.properties.alttext}).src=e.properties.imaxe);var f=LIM.desordena(s),h=LIM.creardom("div",l,"","clordena-base"),v=LIM.creardom("div",l,"","clordena-cadro");if(1==n&&(h.style.top="10px"),1==i){for(a=0;a<s;a++){p[a]="0";var g=LIM.creardom("span",h,"","clordena-dest");m[a]="",1==n&&(g.className="clordena-dest clordena-v")}for(a=n=0;a<s;a++)n=f[a],u=n+"etq"+c,g=LIM.creardom("div",v,u,"clordena-etq"),d[a]=null,g.innerHTML=o[n],LIM.drag(g,l,r),p[n]=" "!=o[n]?0:1}else if(2==i){for(c="",a=0;a<s;a++)c+="<input class='cltxts-in'  ></input>";for(h.innerHTML=c,d=h.querySelectorAll(".cltxts-in"),u=0;u<s;u++)1==n&&(g.style.display="block"),d[u].addEventListener("keypress",function(e){this.style.width=0,e=this.scrollWidth+14,this.scrollWidth>=this.clientWidth&&(e+=10),""!=this.value&&(this.style.width=e+"px")});n=0}else{for(a='<option value="">?</option>',u=0;u<s;u++)a+='<option value="'+o[f[u]]+'">'+o[f[u]]+"</option>";for(c="",u=0;u<s;u++)c+="<select class='clordena-dw'>"+a+"</select>",p[u]="0";h.innerHTML=c}}}function ordenarimx(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t,r){u++,e.style.zIndex=u;for(var i=parseInt(e.id),n=0;n<s;n++){if(LIM.ratosobre(e,d[n],t,r,!0)){p[i]=i==n?1:0;break}p[i]=0}}e.properties.minheight="430",t=LIM.prc(t,e);for(var i=e.properties.modo||"0",n=[],a=[],o=[],s=e.properties.imaxes.length,l=0;l<s;l++)n=e.properties.imaxes[l].split("||"),a[l]=n[0],o[l]=n[3]||"";var c=LIM.crearbase(e);n=LIM.paxina();var p=Array(s),d=Array(s);l=0;var m="",u=1100;void 0==e.donde&&LIM.comunes(c,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),"1"!=i&&LIM.addEventSimple(LIM.esactividad(c,!0),"click",function(){-1<p.toString().indexOf(0)?LIM.poneravaliacion(c,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(c,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),m="",i=LIM.desordena(s);var f=0,h=LIM.creardom("div",c,"","clordimx-base"),v=LIM.creardom("div",c,"","clordimx-base");for(l=0;l<s;l++){m=(f=i[l])+"etq"+n;var g=LIM.creardom("div",h,m,"clordimx-dest",10+190*l,14);d[l]=g,m+="f",g=LIM.creardom("div",v,m,"clordimx-im",10+190*l,220),(m=LIM.crearimaxe({pai:g,name:f+"imx"+n,cssclass:"",posx:1,posy:1,alttext:o})).style.visibility="hidden",LIM.cargaimaxe(m,a[f],176,176,"",!0,!0),LIM.drag(g,c,r),p[f]=0}}}function paneldeb(e){var t={etiquetas:[],imaxeAltText:[],imaxe:""};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e,t,r,i,n){this.x=t||0,this.y=r||0,this.w=i||1,this.h=n||1,this.rw=i||1,this.rh=n||1,this.imax=e||""}function i(e,t){if(e.width=parseInt(getComputedStyle(e).width)||e.clientWidth||800,e.height=parseInt(getComputedStyle(e).height)||e.clientHeight||500,this.canvas=e,this.width=e.width,this.height=e.height,this.ctx=e.getContext("2d"),""!=t){var r=this,i=new Image;i.onload=function(){r.imfon=i,r.fondo()},i.src=t}else this.imfon=null;document.defaultView&&document.defaultView.getComputedStyle&&(this.stylePaddingLeft=parseInt(document.defaultView.getComputedStyle(e,null).paddingLeft,10)||0,this.stylePaddingTop=parseInt(document.defaultView.getComputedStyle(e,null).paddingTop,10)||0,this.styleBorderLeft=parseInt(document.defaultView.getComputedStyle(e,null).borderLeftWidth,10)||0,this.styleBorderTop=parseInt(document.defaultView.getComputedStyle(e,null).borderTopWidth,10)||0);var n=document.body.parentNode;this.htmlTop=n.offsetTop,this.htmlLeft=n.offsetLeft,this.valid=!1,this.shapes=[],this.dragging=!1,this.selection=null,this.dragoffy=this.dragoffx=0,v=this,e.addEventListener("selectstart",function(e){return e.preventDefault(),!1},!1),e.addEventListener("mousedown",function(e){var t=v.getMouse(e);e=t.x,t=t.y;for(var r=v.shapes,i=r.length-1;0<=i;i--)if(r[i].contains(e,t)){var n=r[i];return r.splice(i,1),r.push(n),n=r[r.length-1],v.dragoffx=e-n.x,v.dragoffy=t-n.y,v.dragging=!0,v.selection=n,v.valid=!1,v.selection=n,v.dragging=!0,void v.draw()}v.selection&&(v.selection=null,v.valid=!1,v.draw())},!0),e.addEventListener("mousemove",function(e){v.dragging&&(e=v.getMouse(e),v.selection.x=e.x-v.dragoffx,v.selection.y=e.y-v.dragoffy,v.valid=!1,v.draw())},!0),e.addEventListener("mouseup",function(e){v.dragging=!1},!0),this.selectionColor="#CC0000",this.selectionWidth=2,this.interval=30,v.selection&&v.selection.draw(v.ctx)}function n(e){if(v.selection){switch(e){case"r":e=v.selection.h,10<v.selection.w&&10<e&&(v.selection.w-=5,v.selection.h-=5);break;case"a":v.selection.w+=5,v.selection.h+=5;break;case"d":for(e=v.shapes.length-1;0<=e;e--)v.selection==v.shapes[e]&&v.shapes.splice(e,1);v.selection=null}v.valid=!1,v.draw()}}function a(e,t,r,i,n){var a=document.createElement("button");a.setAttribute("class",t),a.setAttribute("title",i),a.innerHTML=r,LIM.addEventSimple(a,"click",n),e.appendChild(a)}e.properties.minheight="460",e=LIM.prc(t,e);var o=LIM.crearbase(e);LIM.paxina();var s=null;s=e.properties.etiquetas;var l,c,p,d,m,u,f=e.properties.imaxeAltText,h=e.properties.imaxe||"",v=null;r.prototype.draw=function(e){e.drawImage(this.imax,this.x,this.y,this.w,this.h)},r.prototype.contains=function(e,t){return this.x<=e&&this.x+this.w>=e&&this.y<=t&&this.y+this.h>=t},i.prototype.addShape=function(e){this.shapes.push(e),this.valid=!1,e.draw(this.ctx)},i.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},i.prototype.toimx=function(){return this.canvas.toDataURL("image/png")},i.prototype.fondo=function(e){this.imfon&&this.ctx.drawImage(this.imfon,0,0)},i.prototype.draw=function(){if(this.clear(),this.fondo(),!this.valid){for(var e=this.ctx,t=this.shapes,r=t.length,i=0;i<r;i++){var n=t[i];n.x>this.width||n.y>this.height||0>n.x+n.w||0>n.y+n.h||t[i].draw(e)}null!=this.selection&&(this.selection.draw(e),e.strokeStyle=this.selectionColor,e.lineWidth=this.selectionWidth,e.setLineDash([5,4]),t=this.selection,e.strokeRect(t.x,t.y,t.w,t.h)),this.valid=!0}},i.prototype.getMouse=function(e){var t=this.canvas,r=0,i=0;if(void 0!==t.offsetParent)do{r+=t.offsetLeft,i+=t.offsetTop}while(t=t.offsetParent);return r+=this.stylePaddingLeft+this.styleBorderLeft+this.htmlLeft,i+=this.stylePaddingTop+this.styleBorderTop+this.htmlTop,{x:e.pageX-r,y:e.pageY-i}};for(var g=LIM.creardom("div",o,"","clpan_colimx"),x=0;x<s.length;x++)l=g,c="clpan_cadro",p=s[x],d=f[x],m=function(){var e=this.childNodes[0];v.addShape(new r(e,40,40,e.naturalWidth,e.naturalHeight))},u=void 0,u=document.createElement("div"),u.setAttribute("class",c),(c=document.createElement("img")).setAttribute("class","clpan_imx"),c.setAttribute("title",d||LIM.td("Imagen")),c.setAttribute("src",p),u.appendChild(c),LIM.addEventSimple(u,"click",m),l.appendChild(u);o=LIM.creardom("div",o,"","clpan_col2"),s=LIM.creardom("canvas",o,"","clpan_canvas"),a(g=LIM.creardom("div",o,"","clpan_botonera"),"clpan_boton","-",LIM.td("Botón para reducir"),function(){n("r")}),a(g,"clpan_boton","+",LIM.td("Botón para ampliar"),function(){n("a")}),a(g,"clpan_boton","x",LIM.td("Botón para eliminar elemento"),function(){n("d")}),a(g,"clpan_boton","G",LIM.td("Botón para guardar"),function(){v.selection=null,v.valid=!1,v.draw();var e=v.toimx();e.download="paneldeb.png",window.location=e}),new i(s,h)}}function parellas(e){this.crear=function(){function t(){S-=k,0>--E?(clearInterval(N),"none"!=A.parentNode.parentNode.style.display&&LIM.poneravaliacion(A,e.properties.mensamal,!1,e.properties.ffinal,e.num),C=!1):(q.innerHTML=E.toString(),q.style.width=S.toString()+"%")}e.properties.minheight="430";var r="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" "),i=e.properties.imaxes||[],n=e.properties.etiquetas||[],a=e.properties.textos||[],o=e.properties.sons||[],s=e.properties.modo||0,l=e.properties.tempo||"50",c=e.properties.cfondo||"",p=e.properties.ctapa||"",d=[];if(0<i.length){for(var m=[],u=[],f=[],h=[],v=i.length,g=0;g<v;g++)m=i[g].split("||"),u[g]=m[0]||"",f[g]=m[1]||"",h[g]=m[2]||"";var x=[],b=[],L=[];if(0<n.length)for(g=0;g<v;g++)m=n[g].split("||"),x[g]=m[0]||"",b[g]=m[1]||"",L[g]=m[2]||"";var y=[],M=[]}var I=[];n=0;var N,w=!1,E=Number(l),S=parseInt(LIM.valorcss(".clpar-tem","width")),k=S/E,C=!0;if(0==s){for(n=0;n<v;n++)y.push(u[n]),I.push(h[n]),d.push(n),y.push(u[n]),I.push(h[n]),d.push(n);n=y.length}else if(1==s){var T=0;for(n=0;n<i.length;n++)""==i[n]&&""==a[n]||T++;for(n=0;n<v;n++)y[n]=u[n],M[n]=f[n],I[n]=h[n],d[n]=n;for(n=i=0;n<v;n++)i=n+v,y[i]=x[n],I[i]=L[n],M[i]=b[n],d[i]=n;n=y.length}else if(2==s){for(v=Math.floor(T/2),n=0;n<v;n++)I.push(o[n]),d.push(n),I.push(o[n+v]),d.push(n);n=I.length}var A=LIM.crearbase(e),H=LIM.paxina();LIM.esactividad(A,!1);var q=LIM.creardom("div",A,"","clpar-tem");q.innerHTML=l;var O=Array(n);O.fill(0)||O.join("0").split("").map(parseFloat);var P=1e3,z=null,F=!0,B="par"+H;LIM.desordena(n);var _=parseInt(LIM.valorcss(".clpar-cadro","width"))-8||142,W=parseInt(LIM.valorcss(".clpar-cadro","height"))-12||188,D=function(i,n,a,o,s,l,d){this.ver=function(){return this.num},l=n+B,(i=document.createElement("div")).className="clpar ",i.id=l,(l=document.createElement("figure")).className="clpar front";var m=document.createElement("figure");m.className="clpar back",i.appendChild(l),i.appendChild(m),A.appendChild(i),""!=c&&(l.style.backgroundColor="#"+c),self=this;var u=LIM.crearimaxe({pai:m,name:n+"imxf"+a,cssclass:"clpar-im",posx:1,posy:1,alttext:""});return u.style.visibility="hidden",LIM.cargaimaxe(u,o,_,W,"",!0,!0),O[n]=0,(""!=o?LIM.creardom("div",m,n+"txt"+a,"clpar-texto"):LIM.creardom("div",m,n+"txt"+a,"clpar-txtg")).innerHTML=s,i.num=d,l.innerHTML="?",""!=p&&(l.style.backgroundColor="#"+p),l.style.cursor="pointer",void 0!==e.properties.fcolor&&(i.style.backgroundColor="#"+e.properties.fcolor),LIM.addEventSimple(i,"click",function(){w||(w=!0,N=setInterval(t,1e3));var i=parseInt(this.id);I[i]&&LIM.sonar(I[i]),F&&"clpar flipped"!=this.className&&(this.className="clpar flipped",function(t){var i=parseInt(t.id),n=z?parseInt(z.id):1e4;if(1e3>P){if(t.num==z.num)t.childNodes[1].style.backgroundColor=r[t.num],z.childNodes[1].style.backgroundColor=r[t.num],O[i]=1,O[n]=1,-1==O.toString().indexOf(0)&&(clearInterval(N),C&&LIM.poneravaliacion(A,e.properties.mensaben,!0,e.properties.ffinal,e.num));else{F=!1;var a=z;setTimeout(function(){t.classList.toggle("flipped"),a.classList.toggle("flipped"),F=!0},500)}z=null,P=1e3}else P=i,z=t}(this))}),i};!function(e){for(var t,r=LIM.desordena(e),i=0;i<e;i++)t=r[i],void 0===o[t]&&(o[t]=""),2==s?new D(A,t,H,"","",o[t],d[t]):1==s?new D(A,t,H,y[t],M[t],o[t],d[t]):new D(A,t,H,y[t],"","",d[t]),0}(n)}}function piramide(e){var t={texto:"",palabras:"",letras:""};this.crear=function(){e.properties.minheight="430";var r=(e=LIM.prc(t,e)).properties.palabras||[""],i=e.properties.texto||"",n=r.length,a=LIM.crearbase(e),o=LIM.paxina(),s=[];void 0==e.donde&&LIM.comunes(a,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(a,!0),"click",function(){for(var t="",r=0;r<s.length;r++)t+=s[r].value;t=t.toLowerCase(),m==t?LIM.poneravaliacion(a,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(a,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var l=document.createElement("div");if(l.setAttribute("class","clpi-col1"),a.appendChild(l),""!=i){var c=LIM.creardom("div",a,"","clpi-txt");c.innerHTML=i}for(var p=c=0;p<n;p++){(i=document.createElement("div")).setAttribute("class","clpi-let clpi-nu"),i.innerHTML=p+1,l.appendChild(i);for(var d=0;d<r[p].length;d++)i=document.createElement("INPUT"),i.setAttribute("type","text"),i.setAttribute("maxlength","1"),i.setAttribute("class","clpi-let"),i.setAttribute("id",c+"pir"+o),l.appendChild(i),s[c]=i,c++;(i=document.createElement("div")).setAttribute("class","clpi-se"),l.appendChild(i)}for(d=0;d<s.length;d++)s[d].addEventListener("keyup",function(e){if(this.value.length==this.maxLength){var t=parseInt(this.id);t=8==e.keyCode?t-1:t+1,8!=e.keyCode&&s[t]&&s[t].focus()}},!1);var m=r.join("").toLowerCase()}}function plantilla(e){this.crear=function(){e.properties.minheight="430";var t=e.properties.resp||"",r=e.properties.boton||"",i=LIM.crearbase(e),n=LIM.paxina(),a=i.getElementsByTagName("font");if(a&&LIM.cambiafont(a),""!=r)var o=(r=r.split("||"))[0],s=r[1]||"";var l=LIM.creardom("div",i,"","clplan");if(s&&LIM.crearlink({pai:l,url:"javascript:LIM.salto('"+s+"')",text:o,cssclass:"clplan-bt",alttext:o}),t){var c=[];c=t.toLowerCase().split("|"),h=c.length,ctx=LIM.crearinput({pai:l,name:"input"+n,cssclass:"clplan-in",pholder:e.properties.pholder}),LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){for(var t=!1,r=ctx.value.toLowerCase(),i=0;i<h;i++)r==c[i]&&(t=!0);t?LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num)}),ctx.focus()}}}function preguntas(e){var t={media:"",preguntas:[],respuestas:[],altimaxe:"",color:""};t=LIM.qhtml(e.donde,t),e.properties.minheight="430",this.crear=function(){var r=(e=LIM.prc(t,e)).properties.imaxe||"",i=e.properties.preguntas.length,n=LIM.crearbase(e),a=LIM.paxina();void 0==e.donde&&LIM.comunes(n,e.properties.txcabe,e.properties.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(n,!0),"click",function(){for(var t,r=0;r<o.length;r++)for(t=l[r]=0;t<s[r].length;)LIM.sspc(o[r].value.toLowerCase())==s[r][t]?(o[r].style.backgroundColor="#98FB98",l[r]=1,t=50):o[r].style.backgroundColor="#FFFFFF",t++;-1==l.toString().indexOf("0")?LIM.poneravaliacion(n,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(n,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var o=Array(i),s=Array(i),l=Array(i);LIM.desordena(i);var c="etq"+a;if(""!=r){var p=LIM.creardom("div",n,"cmed"+a,"clpreg-media",-1,-1),d=LIM.creardom("div",p,"","clpreg-bmed",-1,-1),m=LIM.tcontido(r);"s"==m?d=LIM.crearswf(d,"coswf"+a,r,"",0,0,360,300,""):"v"==m?(m="",(d=LIM.crearvid(d,"covid"+a,r,"",0,0,360,300,"")).style.border="solid 1px #cccccc"):"i"==m?(m="",m=""!=e.properties.altimaxe?"<img src='"+r+"' class='cladx-im' title='"+e.properties.altimaxe+"'>":"<img src='"+r+"' class='cladx-im' >",p.innerHTML=m):(d.style.width="380px",d.innerHTML=e.properties.media)}for(d="",r=LIM.creardom("div",n,"","clpreg-base",-1,-1),a=0;a<i;a++)p=a+c,d=LIM.creardom("div",r,p,"clpreg-cadro",-1,-1),d.innerHTML=e.properties.preguntas[a],p=LIM.crearinput({pai:d,name:p+c+"m",cssclass:"clpreg-input",posx:5,posy:60,dimw:"100%",dimh:25,pholder:e.properties.pholder}),o[a]=p,s[a]=[],d=LIM.sspc(e.properties.resp[a].toLowerCase()),s[a]=d.split("|"),l[a]=0}}function puzzle(e){var t={imaxefondo:"",transfondo:100,imaxe:"",altimaxe:"",filas:"",columnas:""},r=1100;this.crear=function(){e.properties.minheight="430";var i=(e=LIM.prc(t,e)).properties.columnas||2,n=e.properties.filas||2,a=e.properties.imaxe||"",o=e.properties.imfondo||"",s=n*i,l=LIM.crearbase(e),c=LIM.paxina(),p=Array(s),d=Array(s),m=Array(s),u=Array(s),f=Array(s);if(void 0==e.donde&&LIM.comunes(l,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.esactividad(l,!1),""!=a){var h=new Image;LIM.cargaimaxe(h,e.properties.imaxe,0,0,function(t,h,v){function g(){for(var e=0;e<s;e++){var r=f[e];r.style.left=t+"px",r.style.top="0px",N[e]==e&&(p[e]=1)}return!0}function x(t,i,n){r++,t.style.zIndex=r;for(var o=parseInt(t.id),d=0;d<s;d++){if(LIM.ratosobre(t,u[d],i,n,!0)){o==d?(p[o]=1,-1==p.toString().indexOf(0)&&(r++,(t=LIM.crearimaxe({pai:l,name:"imxfondo"+c,cssclass:"",posx:10,posy:0,alttext:e.properties.alttext})).style.border="solid 2px #8A0829",t.src=a,t.style.zIndex=r,LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num))):p[o]=0;break}p[o]=0}return!0}if(l.style.minHeight=h+30,v){v=t/i,h/=n;var b=-1,L="etq"+c,y="dst"+c,M="",I="",N=LIM.desordena(s),w=0,E=0,S=0,k=1;1==e.properties.forma&&(k=50),""!=o&&((I=LIM.crearimaxe({pai:l,name:"imxfondo"+c,cssclass:"",posx:10,posy:0,alttext:e.properties.alttext})).border="1",I.src=o);for(var C=0;C<n;C++){for(var T=E=0;T<i;T++){w=N[++b],M=b+L,I=0-E+"px "+(0-S)+"px";var A=LIM.creardom("div",l,b+y,"",E+10,S);A.style.width=v+"px",A.style.height=h+"px",A.style.border="1px solid blue",A.style.position="absolute",A.style.zIndex=800+b,LIM.borde(A,k),A.style.backgroundColor="white",A.style.opacity=(100-e.properties.trans)/100,A.style.filter="alpha(opacity="+e.properties.trans+")",(M=LIM.creardom("div",l,M,"",E+10,S)).style.width=v+"px",M.style.height=h+"px",M.style.position="absolute",M.style.border="1px solid #333333",M.style.backgroundImage="url('"+a+"')",M.style.backgroundPosition=I,r++,M.style.zIndex=1100+w,LIM.drag(M,l,x),p[b]=0,u[b]=A,f[b]=M,d[b]=E+10+"px",m[b]=S+"px",E+=v,LIM.borde(M,k),"3"==e.properties.modo&&(M.style.font="14px Arial",M.style.textAlign="center",M.style.color="#00ff00",M.style.textShadow=" 1px 1px 0 #000000",M.innerHTML="   "+(b+1))}S+=h}"4"==e.properties.modo?setTimeout(g,2e3):"5"==e.properties.modo?function(){for(var e=0;e<s;e++){var t=f[e];t.style.left="670px",t.style.top="200px"}}():g()}},!1,!1)}}}function raiosx(e){var t={imaxe:"",imfondo:"",resposta:"",texto:"",imaxeAltText:[],posx:"",posy:"",tam:"",mensaben:"",mensamal:""};t=LIM.qhtml(e.donde,t),this.crear=function(){e.properties.minheight="430";var r=(e=LIM.prc(t,e)).properties.imfondo||"",i=Number(e.properties.rdim||"60");if(""!=r){var n=function(t,r,i,n){function a(e){e.offsetX?(d=e.offsetX,curY=e.offsetY):e.layerX&&(d=e.layerX,curY=e.layerY),o(d,curY)}function o(e,t){s.globalCompositeOperation="source-over",s.clearRect(0,0,c,c),f?s.drawImage(L,0,0,c,p):(s.beginPath(),s.fillStyle="#333388",s.fillRect(0,0,c,c),s.fill(),s.stroke()),s.globalCompositeOperation="xor",s.strokeStyle="#000000",s.fillStyle="#ffffff",s.lineWidth=2,s.beginPath(),s.arc(e,t,l,0,2*Math.PI,!1),s.fill(),s.stroke(),s.strokeStyle="#FF000000",s.lineWidth=5,s.beginPath(),s.arc(e,t,l,0,2*Math.PI,!1),s.stroke()}var h=document.createElement("canvas");e.properties.imaxeAltText[0]&&h.setAttribute("title",e.properties.imaxeAltText[0]),h.width=c,h.height=p,h.className="clrx-b",t.appendChild(h),s=h.getContext("2d");var v=LIM.relposX(h),g=LIM.relposY(h)+80;o(m,u),h.style.backgroundImage="url('"+r+"')",h.style.backgroundRepeat="no-repeat",h.style.backgroundAttachament="fixed",h.style.backgroundPosition=i+"px "+n+"px",h.style.cursor="pointer",h.addEventListener("mouseup",function(e){h.removeEventListener("mousemove",a)}),h.addEventListener("mousedown",function(e){h.addEventListener("mousemove",a)}),h.addEventListener("touchmove",function(e){var t=event.targetTouches[0];o(t.pageX-v,t.pageY-g),e.preventDefault()})},a=LIM.crearbase(e),o=LIM.paxina();void 0==e.donde&&LIM.comunes(a,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),o="rx"+o;var s,l=i,c=650,p=426,d=0,m=l,u=l,f=!1;if(""!=e.properties.imaxe&&(f=!0),e.properties.texto){i=LIM.creardom("div",a,o+"ptx","clrx-pan");var h=document.createElement("a");i.appendChild(h);var v=LIM.creardom("div",h,o+"tx","clrx-text");v.innerHTML=e.properties.texto,LIM.crearlink({pai:i,url:"javascript:;",name:o+"bt",cssclass:"clrx-bt",alttext:LIM.td("Texto")}).onclick=function(){var e=this.parentNode;15>e.offsetHeight?(e.style.height="360px",v.style.visibility="visible"):(e.style.height="0px",v.style.visibility="hidden")}}if(e.properties.resp){e.properties.resp=e.properties.resp.toLowerCase();var g=e.properties.resp.split("|"),x=g.length;LIM.addEventSimple(LIM.esactividad(a,!0),"click",function(){for(var t=!1,r=b.value.toLowerCase(),i=0;i<x;i++)r==g[i]&&(t=!0);return t?(s.clearRect(0,0,c,p),s.globalAlpha=.2,s.drawImage(L,0,0,c,p),LIM.poneravaliacion(a,e.properties.mensaben,!0,e.properties.ffinal,e.num)):LIM.poneravaliacion(a,e.properties.mensamal,!1,e.properties.ffinal,e.num),!0});var b=LIM.crearinput({pai:a,cssclass:"clinput clrx-in",name:o+"in",pholder:e.properties.pholder})}if(f){var L=new Image;L.src=e.properties.imaxe,L.onload=function(){c=L.width,p=L.height;var t=LIM.reduce(L.width,L.height,800,450);c=t.W,p=t.H,n(a,r,e.properties.posx,e.properties.posy)}}else n(a,r,e.properties.posx,e.properties.posy)}}}function relacionar(e){this.crear=function(){function t(e,t){var r="";if(""!=t)for(var i=t.split(","),n=0;n<i.length;n++)r+=e+"a"+i[n]+"|";return r}e.properties.minheight="430";var r=e.properties.palabras||[],i=e.properties.etiquetas||[],n=r.length,o=i.length,s=LIM.crearbase(e),l=LIM.paxina();void 0==e.donde&&LIM.comunes(s,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){var t=!1,r=m.childNodes.length;if(r==v){for(var i,n=u,a=0;a<r;a++)i=m.childNodes[a].id.split("l")[0]+"|",n.replace(i,""),-1<n.indexOf(i)&&(n=n.split(i).join(""));""==n&&(t=!0)}t?LIM.poneravaliacion(s,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(s,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var c=[],p=[],d=[],m=LIM.creardom("div",s,"","clrela-b");for(a=0;a<n;a++)c=r[a].split("||"),p[a]=c[0],d[a]=c[1];var u="",f="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" ");for(a=0;a<n;a++)u+=t(a+1,d[a]);var h,v=u.split("|").length-1;for(r="rela"+l,LIM.desordena(n),c="",a=0;a<n;a++){c=(a+1).toString()+r,etiq=LIM.creardom("button",s,c,"clrela-etq",20,83*a+20),etiq.innerHTML=p[a],etiq.style.backgroundColor=f[a];var g=etiq;LIM.addEventSimple(etiq,"click",function(){g=this;var e=this.offsetHeight/2-x.offsetHeight/2+this.offsetTop;x.style.left=(this.offsetWidth+this.offsetLeft).toString()+"px",x.style.top=e.toString()+"px"}),0==a&&(h=etiq)}for(r="relb"+l,a=0;a<o;a++)c=(a+1).toString()+r,etiq=LIM.creardom("button",s,c,"clrela-etq",470,83*a+20),etiq.innerHTML=i[a],LIM.addEventSimple(etiq,"click",function(){if(g){var e=parseInt(g.id),t=parseInt(this.id),r=g.offsetLeft+g.offsetWidth-16,i=g.offsetTop+g.offsetHeight/2-15,n=this.offsetLeft+2,a=this.offsetTop+this.offsetHeight/2-16;t=e.toString()+"a"+t.toString()+"line"+l.toString();var o=document.getElementById(t);o?o.parentNode.removeChild(o):(s=m,c=t,p=r,d=i,u=n,h=a,v=f[e-1],x=Math.sqrt((p-u)*(p-u)+(d-h)*(d-h)),u="rotate("+180*Math.atan2(h-d,u-p)/Math.PI+"deg)",(h=document.createElement("div")).className="clrela-lina",h.id=c,h.style.position="absolute",h.style.transformOrigin=" left top",h.style.transform=u,h.style.width=x.toString()+"px",h.style.left=p.toString()+"px",h.style.top=d.toString()+"px",h.style.backgroundColor=v,s.appendChild(h),LIM.addEventSimple(h,"click",function(){this.parentNode.removeChild(this)}))}var s,c,p,d,u,h,v,x});var x=LIM.creardom("div",s,"","clrela-pnt");h.click()}}function reloxo(e){var t={};this.crear=function(){function r(){11<(v+=1)&&(v=0),LIM.xira(M,30*v)}function i(){0>--v&&(v+=12),LIM.xira(M,30*v)}function n(){59<(g+=1)&&(g=0,r()),LIM.xira(I,6*g),LIM.xira(M,30*v+g/2)}function a(){0>--g&&(g=59,i()),LIM.xira(I,6*g),LIM.xira(M,30*v+g/2)}e.properties.minheight="430",t=LIM.prc(t,e);var o,s=e.properties.modo||"1",l=e.properties.forma||"1",c=e.properties.texto||"",p=e.properties.imaxe||"",d=e.properties.altimaxe||"",m=e.properties.hora||"",u=(e.properties.reloxo||"").split("|"),f=LIM.crearbase(e),h=LIM.paxina(),v=0,g=0;void 0==e.donde&&LIM.comunes(f,e.txcabe,e.txpe,e.properties.ison,e.properties.autoson,e.properties.txliga,e.properties.paxliga),"2"!=s?LIM.addEventSimple(LIM.esactividad(f,!0),"click",function(){if("0"==e.properties.modo){for(var t=!1,r=LIM.sspc(y.value).toUpperCase(),i=0;i<u.length;i++)if(r==LIM.sspc(u[i]).toUpperCase()){t=!0;break}}else"1"==s?(t=!0,v!=w&&v!=w-12&&(t=!1),g!=N&&(t=!1)):"4"==s&&(t=!0,r=y.value.split(":"),N=Number(r[1]),w=Number(r[0]),v!=w&&v!=w-12&&(t=!1),g!=N&&(t=!1));t?LIM.poneravaliacion(f,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(f,e.properties.mensamal,!1,e.properties.ffinal,e.num)}):LIM.esactividad("",!1);var x=LIM.creardom("div",f,"crel"+h,"clrelo",20,10);if(""!=p)l=LIM.crearimaxe({pai:x,name:"imx"+h,cssclass:"",posx:0,posy:0,alttext:d}),LIM.cargaimaxe(l,p,360,360,"",!0,!0),""!=d&&(l.title=d);else{(p=LIM.creardom("canvas",x,"","clrelo-cv")).width=390,p.height=390;var b=p.getContext("2d"),L=180;b.translate(1.1*L,L),L*=.9,function(e){var t=b,r=L;t.beginPath(),t.arc(0,0,r,0,2*Math.PI),t.fillStyle="white",t.fill(),t.lineWidth=.04*r,t.stroke(),t.beginPath(),t.arc(0,0,.1*r,0,2*Math.PI),t.fillStyle="#333",t.fill(),function(e){function t(t,r,i){for(e.strokeStyle="black",e.lineWidth=i,i=0;i<t;i++)e.save(),e.beginPath(),e.translate(0,0),e.rotate(360*i/t*Math.PI/180),e.translate(0,-155),e.moveTo(0,0),e.lineTo(0,r),e.stroke(),e.closePath(),e.restore()}t(60,8,2),t(12,14,4)}(b),t=b,r=L;var i=[];switch(e){case 4:i="0 I II III IIII V VI VII VIII IX X XI XII".split(" ");break;case 3:i="0 1 2 3 4 5 6 7 8 9 10 11 12".split(" ");break;case 1:i=["0","3","6","9","12"];break;case 2:i=["0","III","VI","IX","XII"]}var n,a=i.length;for(t.fillStyle="#333",t.font=.15*r+"px arial",t.textBaseline="middle",t.textAlign="center",n=1;n<a;n++)e=n*Math.PI/((a-1)/2),t.rotate(e),t.translate(0,.75*-r),t.rotate(-e),t.fillText(i[n],0,0),t.rotate(e),t.translate(0,.75*r),t.rotate(-e)}(Number(l))}l=LIM.creardom("div",f,"","clcol1"),""!=e.properties.texto&&(LIM.creardom("div",l,"reltxt"+h,"clrelo-txt").innerHTML=c);var y=LIM.crearinput({pai:l,name:"relin"+h,cssclass:"clrelo-in",pholder:t.pholder}),M=LIM.creardom("div",x,"ah"+h,"clrelo-a hr"),I=LIM.creardom("div",x,"am"+h,"clrelo-a mr");c=[],c=m.split(":");var N=Number(c[1]),w=Number(c[0]);"1"==e.properties.modo||"4"==e.properties.modo?(m=LIM.creardom("div",x,"crelhh"+h,"clrelo-bt",30,360),LIM.addEventSimple(m,"mousedown",function(){r(),o=setInterval(r,400)}),m.innerHTML=LIM.td("H")+"+",m=LIM.creardom("div",x,"crelh"+h,"clrelo-bt",100,360),LIM.addEventSimple(m,"mousedown",function(){i(),o=setInterval(i,400)}),m.innerHTML=LIM.td("H")+"-",m=LIM.creardom("div",x,"crelmm"+h,"clrelo-bt",200,360),LIM.addEventSimple(m,"mousedown",function(){n(),o=setInterval(n,300)}),m.innerHTML=LIM.td("M")+"+",m=LIM.creardom("div",x,"crelm"+h,"clrelo-bt",270,360),LIM.addEventSimple(m,"mousedown",function(){a(),o=setInterval(a,300)}),LIM.addEventSimple(f,"mouseup",function(){clearInterval(o)}),m.innerHTML=LIM.td("M")+"-","1"==s?(y.readOnly="readonly",y.value=u):(x=(h=new Date).getHours(),g=h.getMinutes(),LIM.xira(I,6*g),v=x,LIM.xira(M,30*v+g/2))):"0"==s&&""!=m&&(v=w,g=N,LIM.xira(I,6*g),LIM.xira(M,30*v+g/2))}}function secreta(e){var t={texto:"",imaxe:"",altimaxe:"",palabras:"",letras:""};this.crear=function(){function r(t){if(M){parseInt(this.id);var r=this.innerHTML.toLowerCase();if(-1==this.className.indexOf("clsecre-tci")){var n=!1;for(this.className="clsecre-tcl clsecre-tci",t=0;t<f;t++)d[t]==r&&(E=LIM.lcambia(E,t,u[t]),S--,n=!0);n?(N.innerHTML=E,0==S&&("1"==i&&(w.style.display="block"),LIM.poneravaliacion(h,e.properties.mensaben,!0,e.properties.ffinal,e.num),M=!1)):(g[5- --c].parentNode.removeChild(g[5-c]),0==c&&(M=!1,LIM.poneravaliacion(h,e.properties.mensamal,!1,e.properties.ffinal,e.num),N.innerHTML=u))}}}e.properties.minheight="430";var i=(e=LIM.prc(t,e)).properties.modo||"0",n=e.properties.forma||"0",a=e.properties.imaxe||"",o=e.properties.texto||"",s=e.properties.palabras||"",l=e.properties.imaxeAltText||"",c=6,p=e.properties.letras||LIM.letrascomun(),d=[];s=s.split("|");var m=LIM.desordena(s.length),u=s=LIM.ttrim(s[m[0]]);s=s.toLowerCase(),"1"!=n&&(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace("á","a")).replace("à","a")).replace("â","a")).replace("é","e")).replace("è","e")).replace("ê","e")).replace("í","i")).replace("ì","i")).replace("î","i")).replace("ó","o")).replace("ò","o")).replace("ô","o")).replace("ú","u")).replace("ù","u")).replace("û","u")).replace("ü","u")),d=s.split(""),n=[],p=(n=p.split("")).length;var f=d.length,h=LIM.crearbase(e);m=LIM.paxina();var v=Array(f),g=Array(c),x=0,b="tecla"+m,L="",y=0,M=!0;LIM.esactividad(h,!1);var I=160;if(""!=a){I=310;var N=LIM.creardom("div",h,L,"",20,5);N.style.position="absolute";var w=LIM.crearimaxe({pai:h,name:"imxsecreta"+m,cssclass:"",posx:0,posy:0,alttext:l});LIM.cargaimaxe(w,a,260,260,"",!0,!0),"1"==i&&(w.style.display="none")}for(a=LIM.creardom("div",h,"","clsecre-bpnt"),x=0;x<c;x++)N=LIM.creardom("div",a,"","clsecre-pnt"),N.innerHTML=6-x,g[x]=N;for(a=LIM.creardom("div",h,"","clsecre-btcl"),x=0;x<p;x++)L=x+b,N=LIM.creardom("div",a,"","clsecre-tcl"),N.innerHTML=n[x],n[x]=n[x].toLowerCase(),v[x]=N,LIM.addEventSimple(N,"click",r),y++,14==y&&(y=0,0);""!=o&&((v=LIM.creardom("div",h,"cletras"+m,"clsecre-cx",I,0)).style.width="470px",v.style.height="90px",v.innerHTML=o),N=LIM.creardom("div",h,"plb"+m,"clsecre-in"),85<s.length&&(N.style.font="bold 20px Arial",N.style.textAlign="left");var E="",S=0;for(o=0;o<f;o++)" "!=d[o]?","==d[o]?E+=",":"."==d[o]?E+=".":":"==d[o]?E+=":":";"==d[o]?E+=";":(E+="_",S++):E+=" ";N.innerHTML=E}}function seleccionar(e){var t={textos:[],imaxes:[],sons:[],correcta:[],imaxesAltText:[]};this.crear=function(){function r(e){e=parseInt(this.id),LIM.sonar(c[e])}e.properties.minheight="430",selecciona=LIM.prc(t,e);for(var i=e.properties.etiquetas||[],n=[],a=[],o=[],s=[],l=[],c=[],p=i.length,d=0;d<p;d++)n=i[d].split("||"),a[d]=n[0]||"0",o[d]=n[1]||"",s[d]=n[2]||"",l[d]=n[3]||"",c[d]=n[4]||"";var m=LIM.crearbase(e);i=LIM.paxina();var u=Array(p),f=Array(p),h=Array(p);n=d=0;var v=LIM.desordena(p),g=a.toString();for(LIM.addEventSimple(LIM.esactividad(m,!0),"click",function(){for(var t=0;t<p;t++)u[t]=f[t].checked?1:0;if(u.toString()===g)for(LIM.poneravaliacion(m,e.properties.mensaben,!0,e.properties.ffinal,e.num),t=0;t<p;t++)f[t].style.visibility="hidden",0==u[t]&&LIM.transparencia(h[t],20);else LIM.poneravaliacion(m,e.properties.mensamal,!1,e.properties.ffinal,e.num)}),d=0;d<p;d++){netq=v[d],a=LIM.creardom("div",m,"","clselec-cadro",0,0);var x=LIM.crearchk(a,netq+"rep"+i,"clselec");a=LIM.crearlabel(a,netq+"rep"+i,netq+"lrep"+i,"clselec-lab","","",""),u[netq]=0,f[netq]=x,h[netq]=a,""!=s[netq]&&((x=LIM.crearimaxe({pai:a,cssclass:"",posx:1,posy:1,alttext:l[netq]})).style.visibility="hidden",LIM.cargaimaxe(x,s[netq],248,176,"",!0,!0)),""!=e.properties.textos[netq]&&((x=LIM.creardom("div",a,netq+"txt"+i,"clselec-text",0,134)).style.width="250px",x.style.height="34px",x.innerHTML=o[netq]),""!=c[netq]&&(a=LIM.crearlink({pai:a,name:netq+"reps"+i,text:"",url:"javascript:;",cssclass:"clselec-son",alttext:LIM.td("Reproducir sonido")}),LIM.addEventSimple(a,"click",r),a.innerHTML="&#x25BA;"),2==d&&(n=-1),n++}}}function serie(e){var t={};this.crear=function(){function r(e){e.preventDefault()}function i(e){var t=e.target;"clser-i"==e.target.className&&(t=e.target.parentNode),e.dataTransfer.setData("text/html",t.id)}function n(e){e.preventDefault();var t=e.dataTransfer.getData("text/html"),r=LIM.dom(t);r&&"clser-c"==r.className&&(parseInt(t),e.target.style.backgroundImage='url("'+r.childNodes[0].src+'")')}selecciona=LIM.prc(t,e),e.properties.minheight="430";for(var a=e.properties.modo||"0",o=e.properties.etiquetas||[],s=[],l=[],c=[],p=o.length,d=0;d<p;d++)s=o[d].split("||"),l[d]=s[0]||"",c[d]=s[2]||"";var m=LIM.crearbase(e);o=LIM.paxina();var u=Array(12),f=Array(12),h=LIM.desordena(p),v=LIM.desordena(p);LIM.addEventSimple(LIM.esactividad(m,!0),"click",function(){for(var t,r=!0,i=0;12>i;i++)u[i]&&(t=u[i].style.backgroundImage,""!=t?(t=t.toLowerCase(),t=t.match(/[\w\.\$]+(?=png|jpg|gif)\w+/g),t=t.toString(),t!=f[i]&&(u[i].style.backgroundImage="",r=!1)):r=!1);r?LIM.poneravaliacion(m,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(m,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var g=LIM.creardom("div",m,"","clser-base");for(d=0;d<p;d++)s=LIM.creardom("div",g,"","clser-cir",0,0),s.setAttribute("draggable","false"),s.setAttribute("draggable","false"),s.style.backgroundImage="1"==a?'url("'+l[v[d]]+'") ':'url("'+l[d]+'")';var x=0;for(d=0;12>d;d++)s=LIM.creardom("div",g,"","clser-cir",0,0),u[d]=s,f[d]="1"==a?l[v[x]].toLowerCase().match(/[\w\.\$]+(?=png|jpg|gif)\w+/g):l[x].toLowerCase().match(/[\w\.\$]+(?=png|jpg|gif)\w+/g),x++,x==p&&(x=0),s.addEventListener("drop",n,!1),s.addEventListener("dragover",r,!1);for(g=LIM.creardom("div",m,"","clser-m"),d=0;d<p;d++)s=LIM.creardom("div",g,d.toString()+"med"+o.toString(),"clser-c",0,0),a=LIM.crearimaxe({pai:s,cssclass:"clser-i",alttext:c[d]}),a.style.visibility="hidden",LIM.cargaimaxe(a,l[h[d]],130,90,"",!0,!0),s.setAttribute("draggable","true"),s.addEventListener("dragstart",i,!1)}}function sopa(e){var r={};this.crear=function(){function i(e){if(a[e].length<p)for(repetir=!0,e=a[e],npl=e.length;repetir;){var r=parseInt(Math.random()*p),i=parseInt(Math.random()*p),n=parseInt(3*Math.random());switch(posl=r+i*p,n){case 0:if(i+npl<p){for(benn=!0,t=0;t<npl;t++)r=posl+p*t,""!=h[r].innerHTML&&h[r].innerHTML!=e[t]&&(benn=!1);if(benn)for(repetir=!1,t=0;t<npl;t++)r=posl+p*t,h[r].innerHTML=e[t]}break;case 1:if(r+npl<p){for(benn=!0,t=0;t<npl;t++)r=posl+t,""!=h[r].innerHTML&&h[r].innerHTML!=e[t]&&(benn=!1);if(benn)for(repetir=!1,t=0;t<npl;t++)r=posl+t,h[r].innerHTML=e[t]}break;case 2:if(r+npl<p&&i+npl<p){for(benn=!0,t=0;t<npl;t++)r=posl+p*t+t,""!=h[r].innerHTML&&h[r].innerHTML!=e[t]&&(benn=!1);if(benn)for(repetir=!1,t=0;t<npl;t++)r=posl+p*t+t,h[r].innerHTML=e[t]}}}}function n(t){var r="",i=-1,n=[],o=0;if("clsopa-marca"==(t=(t=t||event).target||t.srcElement).className&&(t=E.elementFromPoint),-1!=N){if(h[N].style.backgroundColor="transparent",(w=parseInt(t.id))<N?(i=w,o=N):(i=N,o=w),o-i<p){for(t=i;t<o+1;t++)r+=h[t].innerHTML,n.push(h[t]);o=1}else if(0==(o-i)%p){for(var s=t=0;s<o;)s=i+t*p,r+=h[s].innerHTML,n.push(h[s]),t++;o=2}else{for(s=t=0;s<o;)s=i+t*p+t,r+=h[s].innerHTML,n.push(h[s]),t++;o=3}for(i=r,r=-1,g=0;g<c;g++)if(a[g]==i){r=g;break}i=r,N=-1}else N=parseInt(t.id),t.style.backgroundColor="#00ff00";if(-1!=i){for(r=i,t=n.length,s=0;s<t;s++)n[s].style["font-weight"]=800;1==I&&(v[r].style.backgroundColor=b[r]),ipx=parseInt(n[0].style.left)-10,ipy=parseInt(n[0].style.top),LIM.getPosition(n[0]),fpx=parseInt(n[t-2].style.left)-ipx,fpy=20,parseInt(n[0].style.top),parseInt(n[t-1].style.top),parseInt(n[0].style.left),parseInt(n[t-1].style.left);var l=(s=parseInt(n[0].style.width))/2,d=document.createElement("DIV");d.className="clsopa-marca",A.appendChild(d),d.style.top=n[0].style.top,d.style.left=n[0].style.left,"0"!=x&&(d.style.zIndex="500"),1==o?(d.style.width=t*s+2+"px",d.style.height=s+"px"):2==o?(d.style.height=t*s+3+"px",d.style.width=s-2+"px"):3==o&&(d.style.width=1.4*t*s+2+"px",d.style.height=s-5+"px",d.style.transform="rotate(45deg)",d.style.transformOrigin=l+"px "+l+"px "),d.style.backgroundColor=b[r],f[i]=1,-1==f.toString().indexOf(0)&&LIM.poneravaliacion(m,e.properties.mensaben,!0,e.properties.ffinal,e.num)}}r=LIM.prc(r,e),e.properties.minheight="430";var a=e.properties.palabras||[];if(":"==a[0][0]){var o=Number(a[0].replace(/:/gi,""));a.shift(),a=function(e,t){for(var r=e.length-1;0<r;r--){var i=Math.floor(Math.random()*(r+1)),n=e[r];e[r]=e[i],e[i]=n}return e.splice(0,t)}(a,o)}var s=e.properties.enunciados||a,l=e.properties.imaxesAltText||[],c=a.length,p=Number(e.properties.tam)||20,d=(o=(e.properties.letras||LIM.letrascomun()).split("")).length,m=LIM.crearbase(e),u=LIM.paxina(),f=Array(c),h=Array(p),v=Array(c),g=0,x=e.properties.cadro||"0",b="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" ");LIM.esactividad(m,!1),g=0,LIM.desordena(c);var L=0,y=0,M=p*p,I=!1,N=-1,w=0,E=void 0,S=null,k=null,C="2"==e.properties.modo?LIM.creardom("div",m,"","clsopa-col1",-1,-1):LIM.creardom("div",m,"","clsopa-colenun",-1,-1);if(S=LIM.creardom("div",m,"","clsopa-col2",-1,-1),k=LIM.creardom("div",m,"","clsopa-col3",-1,-1),"2"==e.properties.modo){L=C,C.style.width="162px",I=!0;var T=s.length;for(g=0;g<T;g++)E=LIM.creardom("div",L,g+"enun"+u,"clsopa-enunim",-1,-1),E.style.width="160px",E.style.height="100px",C=LIM.crearimaxe({pai:E,name:g+"imx"+u,cssclass:"",posx:1,posy:1,alttext:l[g]}),C.style.visibility="hidden",v[g]=E,LIM.cargaimaxe(C,s[g],158,98,"",!0,!0),y++,4==y&&(y=L=0,L=k)}else if("1"==e.properties.enunciado)for(I=!0,T=s.length,g=0;g<T;g++)E=LIM.creardom("div",C,g+"enun"+u,"clsopa-enun",-1,-1),E.style.width="320px",E.innerHTML=s[g],v[g]=E;y=L=0,s=25,10>e.properties.tam&&(s=45);var A=LIM.creardom("div",S,"fsopab"+u,"",0,0);for(A.style.position="relative",(E=LIM.creardom("div",S,"fsopa"+u,"",0,0)).style.position="relative",E.style.border="solid 1px",E.style.width=22+s*p+"px",E.style.height=22+s*p+"px",E.addEventListener("mouseout",function(e){}),E.addEventListener("mousedown",function(e){n(e),e.preventDefault()},!1),E.addEventListener("mouseup",function(e){n(e)}),(S=document.createElement("canvas")).style.position="absolute",S.style.width="100%",S.style.height="100%",A.appendChild(S),(k=S.getContext("2d")).beginPath(),k.rect(10,10,500,10),k.strokeStyle="green",k.globalAlpha=.25,k.stroke(),S.style.display="block",g=0;g<M;g++)etiqf=LIM.crearlink({pai:E,name:g+"sopa"+u,text:"",url:"javascript:;",cssclass:"clsopa-base",posx:2+(s+1)*L,posy:2+(s+1)*y}),1==e.properties.forma&&(etiqf.style.border="solid 1px"),10>e.properties.tam&&(etiqf.style.fontSize="36px"),etiqf.style.borderWidth=x,"1"==e.properties.colorea&&(etiqf.style.backgroundColor="#defdef"),etiqf.style.width=s+"px",etiqf.style.height=s+"px",h[g]=etiqf,LIM.addEventSimple(etiqf,"click",n),L++,L==p&&(L=0,y++);for(g=0;g<c;g++)i(g),f[g]=0,a[g].length>p-1&&(f[g]=1);for(g=0;g<M;g++)""==h[g].innerHTML&&(h[g].innerHTML=o[Math.floor(Math.random()*d)])}}function test(e){var t={texto:"",respuestas:[],feed:[],imaxe:"",altimaxe:""};this.crear=function(){t=LIM.prc(t,e),e.properties.minheight="430";var r,i=e.properties.imaxe||"",n=e.properties.altimaxe||"",a=e.properties.texto||"",o=e.properties.forma||"0",s=e.properties.feed||[],l=(e.properties.respuestas||"").length,c=LIM.crearbase(e),p=LIM.paxina(),d=Array(l),m=Array(l),u="test",f=LIM.tcontido(i),h="",v="",g=[];u=0;var x=LIM.desordena(l);for("@"==(u=e.properties.corr||"000000").charAt(0)&&(u=LIM.decode(u)),r=0;r<l;r++);var b=u.substring(0,l);if(LIM.addEventSimple(LIM.esactividad(c,!0),"click",function(){M&&(I.innerHTML="");for(var t=0;t<l;t++)m[t].checked?(M=s[t],d[t]=1):d[t]=0;if(M&&(I.style.display="block",I.innerHTML=M),d.join("")==b)LIM.poneravaliacion(c,e.properties.mensaben,!0,e.properties.ffinal,e.num);else for(LIM.poneravaliacion(c,e.properties.mensamal,!1,e.properties.ffinal,e.num),t=0;t<l;t++)m[t].checked=!1}),""!=a){if("0"==o)var L=LIM.creardom("div",c,"texto"+p,"cltest-text",10,5);"1"==o&&(L=LIM.creardom("div",c,"texto"+p,"cltest-text cltest-textd",10,5)),L.innerHTML=a}if(""!=i?(r=LIM.creardom("div",c,"cmed"+p,"cltest-media",-1,-1),a=LIM.creardom("div",r,"","cltest-bmed",-1,-1),"s"==f?n=LIM.crearswf(a,"coswf"+p,i,"",0,0,360,300,""):"v"==f?(n=LIM.crearvid(a,"covid"+p,i,"",0,0,360,300,"")).style.border="solid 1px #cccccc":"i"==f?r.innerHTML=""!=n?"<img src='"+i+"' class='cladx-im' title='"+n+"'>":"<img src='"+i+"' class='cladx-im' >":(a.style.width="380px",a.innerHTML=i)):(L&&(L.className="cltest-text cltest-texts"),o="1"),"0"==o)var y=LIM.creardom("div",c,"","cltest-base");for("1"==o&&(y=LIM.creardom("div",c,"","cltest-based")),""==i&&"0"==o&&(y.style.marginLeft="120px"),r=0;r<l;r++)netq=x[r],u=r+1,v=netq+"rep"+p,h+='<input  id="'+v+'" type="Checkbox" class="cltest-ck" value=""><label for="'+v+'" class="cltest-lab"><span class="cltest-nm">'+u+'</span><div class="cltest-txt">'+e.properties.respuestas[netq]+"</div></label>",d[netq]=0,g[netq]=v;for(y.innerHTML=h,r=0;r<l;r++)m[r]=document.getElementById(g[r]);if(""!=s){var M=s[1],I=LIM.creardom("div",c,"mtexto"+p,"cltest-feed");I.innerHTML=""}}}function texto(e){var t={};t=LIM.qhtml(e.donde,t),this.crear=function(){function r(e){for(var t=(e=(d=i(e)).innerHTML).split(" "),r=0;r<o.length;r++)e=e.replace("[?]",o[r]);d.innerHTML=e;var n=d.textContent.trim().split(" ");for(n=n.filter(function(e){return""!=e}),d.innerHTML.trim().split(" "),n.filter(function(e,t){return n.indexOf(e)==t}),t=e.split(" "),e="",r=0;r<t.length;r++)e=e+" <span>"+t[r]+"</span>";d.innerHTML='<p class="cltxts-palabra">'+e+"</p>",d.addEventListener("click",function(e){"SPAN"==(e=e.target).tagName&&e.classList.toggle("cltxts-marca")})}function i(e){e.innerHTML="";var t=document.createElement("DIV");return e.appendChild(t),t.innerHTML=a,t}function n(e){for(var t=Array(e),r=0;r<e;r++)t[r]=r;for(var i;e;)i=Math.floor(Math.random()*e--),r=t[e],t[e]=t[i],t[i]=r;return t}(e=LIM.prc(t,e)).properties.minheight="430";var a=e.properties.texto,o=e.properties.palabras||"",s=Number(e.properties.modo)||0;1==s&&(s=3);var l=LIM.crearbase(e),c=LIM.creardom("div",l,"","cltxts-base"),p=LIM.paxina();LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){var t=!1;switch(s){case 0:var r=0,i=c.querySelectorAll(".cltxts-marca");if(o.length==i.length){for(var n=0;n<i.length;n++)i[n].textContent==o[n]&&r++;o.length==r&&(t=!0)}break;case 1:for(t=!0,r=c.querySelectorAll(".cltxts-in"),i=0;i<r.length;i++)r[i].value.trim()!=o[i]?t=!1:(r[i].setAttribute("readonly","readonly"),r[i].classList.add("cltxts-infx"));break;case 2:d.textContent==m&&(t=!0);break;case 3:for(t=!0,r=c.querySelectorAll(".cltxts-dw"),i=0;i<r.length;i++)r[i].value.trim()!=o[i]?t=!1:(r[i].disabled=!0,r[i].classList.add("cltxts-dwfx"))}t?LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num)});var d,m="";if(""==o){var u=function(e){for(var t=",.;:!¡¿?".split(""),r=0;r<t.length;r++)e=e.split(t[r]).join(" "+t[r]+" ");var i=/(?:^|[ ])\*([a-zA-Z]+)/g;if(t=[],r={},-1<e.indexOf(" *"))for(i.exec(e),t=e.match(/\*\S+/g),i=0;i<t.length;)e=e.replace(t[i],"#"+t[i].substring(1)+"#"),i++;if(t=e.match(/#.*?#/g))for(r.palabras=t.map(function(e){return e.replace(/#/g,"")}),i=0;i<t.length;)e=e.replace(new RegExp(t[i]),"[?]"),i++;else r.palabras=[];return r.texto=e,r}(a);a=u.texto,o=u.palabras}switch(s){case 0:r(c);break;case 1:!function(e){d=i(e);var t=o;e=(e=d.innerHTML).split("[?]").join("<input class='cltxts-in'  ></input>"),d.innerHTML=e,e=d.querySelectorAll(".cltxts-in");for(var r=0;r<e.length;r++)e[r].addEventListener("keypress",function(e){this.style.width=0,e=this.scrollWidth+14,this.scrollWidth>=this.clientWidth&&(e+=10),""!=this.value&&(this.style.width=e+"px")});LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){compruebaes(d,t)})}(c);break;case 2:!function(e){function t(e,t,i){for(e.style.position="absolute",e.style.visibility="hidden","cltxts-destino"==(t=document.elementFromPoint(t,i)).className?(e.style.visibility="visible",t.style.width=e.width,t.innerHTML=e.innerHTML,a[parseInt(e.id)]=t,e=0):(e.style.visibility="visible",t=parseInt(e.id),null!=a[t]&&(a[t].innerHTML=s,a[t]=null),r[t].style.top=e.parentNode.offsetTop-20+"px",e=0);e<c.length;e++)null!=a[e]&&(r[e].style.top=a[e].offsetTop+"px",r[e].style.left=a[e].offsetLeft+"px")}for(var r=[],a=[],s="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",l=(d=i(e)).textContent,c=o,u=0;u<c.length;u++)l=l.replace("[?]",c[u]);u=d.innerHTML;var f="<div class='cltxts-destino' >"+s+"</div>";u=u.split("[?]").join(f),d.innerHTML=u,m=l,function(e,i,o){document.getElementById(i+"-mov")?i=document.getElementById(i+"-mov"):((i=document.createElement("DIV")).className="cltxts-baseetiq",e.appendChild(i));for(var s,l=n(o.length),c=0;c<o.length;c++)s=document.createElement("div"),s.className="cltxts-etiq cltxts-drag",s.id=c+"palas"+p,s.innerHTML=o[l[c]],r[c]=s,a[c]=null,i.appendChild(s),LIM.drag(s,e,t)}(e,e,c)}(c);break;case 3:!function(e){d=i(e);var t=o,r=n(t.length);e='<option value="?">?</option>';for(var a=0;a<t.length;a++)e+='<option value="'+t[r[a]]+'">'+t[r[a]]+"</option>";e="<select class='cltxts-dw'>"+e+"</select>",t=(t=d.innerHTML).split("[?]").join(e),d.innerHTML=t}(c);break;default:r(c)}}}function unir(e){this.crear=function(){function t(e,t,r){for(f++,e.style.zIndex=f,t=parseInt(e.id),e.id.substring(e.id.length-1),r=c[t]=0;r<o;r++){var i=p[r];LIM.estasobre(e,i,!1)&&(e.style.top=i.style.top,d[t]==i.innerHTML&&(c[t]=1))}}e.properties.minheight="430";var r,i=e.properties.unir||[],n=e.properties.textos||[],a=i.length,o=n.length,s=LIM.crearbase(e),l=LIM.paxina(),c=Array(a),p=Array(o),d=Array(o),m=0,u="",f=1100;LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){-1<c.toString().indexOf(0)?LIM.poneravaliacion(s,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(s,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),m=0,r="etq"+l,u="";var h=LIM.desordena(a),v=0;for(m=0;m<a;m++){u=(v=h[m])+r;var g=LIM.creardom("div",s,m+"dstu"+l,"clunir-etq",20,70*m+20);g.innerHTML=n[m],d[v]=n[v],p[v]=g,u=LIM.creardom("div",s,u,"clunir-drg",470,70*m+20),50<i[v].length&&(u.style.fontSize="12px"),u.innerHTML=i[v],LIM.drag(u,s,t),c[v]=0}}}function unirimx(e){this.crear=function(){function t(t,r,i){h++,t.style.zIndex=h;var n=parseInt(t.id);t.id.substring(t.id.length-1);for(var a=0;a<o;a++){var s=d[a];if(LIM.estasobre(t,s,!0)||LIM.ratosobre(t,s,r,i,!0)){m[n]==d[a].val?(p[n]=1,-1==p.toString().indexOf(0)&&LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num)):p[n]=0;break}p[n]=0}}e.properties.minheight="430";var r=e.properties.imaxd||[],i=e.properties.imaxes||[],n=e.properties.textos||[""],a=e.properties.sons||[];altimaxes=e.properties.imaxesAltText||[],altimaxesf=e.properties.imaxesfAltText||[];var o=r.length,s=i.length,l=LIM.crearbase(e),c=LIM.paxina(),p=Array(o),d=Array(s),m=Array(s);s=0;var u,f="",h=1100;LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){-1<p.toString().indexOf(0)?LIM.poneravaliacion(l,e.properties.mensamal,!1,e.properties.ffinal,e.num):LIM.poneravaliacion(l,e.properties.mensaben,!0,e.properties.ffinal,e.num)}),s=0,u="etq"+c,f="";var v=LIM.desordena(o),g=0;for(s=0;s<o;s++){f=s+u;var x=(g=v[s])+u,b=LIM.creardom("div",l,f,"etiquetacl fix",9+204*s,0);b.style.width="180px",b.style.height="130px";var L=LIM.crearimaxe({pai:b,name:s+"imxf"+c,cssclass:"",posx:1,posy:1,alttext:altimaxes[s]});L.style.visibility="hidden",LIM.cargaimaxe(L,i[s],178,118,"",!0,!0),p[s]=0,n[s]&&((L=LIM.creardom("div",b,s+"txt"+c,"bandat",0,84)).style.width="180px",L.style.height="34px",L.innerHTML=n[s]),""!=a[s]&&(b.style.cursor="pointer",LIM.addEventSimple(b,"click",function(){var e=parseInt(this.id);LIM.sonar(a[e])})),(b=LIM.creardom("div",l,"b"+f,"etiquetacl dest",8+204*s,132)).style.width="180px",b.style.height="130px",b.title=LIM.td("Suelta la imagen aquí"),d[s]=b,d[s].val=s,(f=LIM.creardom("div",l,x+"m","etiquetacl mov",8+204*s,280)).style.width="180px",f.style.height="130px",(x=LIM.crearimaxe({pai:f,name:s+"imxm"+c,cssclass:"",posx:1,posy:1,alttext:altimaxesf[g]})).style.visibility="hidden",LIM.cargaimaxe(x,r[g],178,118,"",!0,!0),m[s]=s,LIM.drag(f,l,t)}}}window.LIM=new function(){function e(e){return void 0!==e&&null!=e}function t(e,t,r){void 0!==(e=O.querySelector(e))&&null!=e&&(null==e.getAttribute("title")&&e.setAttribute("title",m.td(r)),t&&"function"==typeof t&&e.addEventListener("click",function(e){e.preventDefault(),t()}))}function r(e){return parseInt(e)==e&&(e+="px"),e}function n(e){return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null==(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href))?null:e[1]}function a(e,t,r,i){var n="",a="",o=t.split(",");if(1>o.length)n=o[0].substr(0,o[0].lastIndexOf("."))+".mp3",a=o[0].substr(0,o[0].lastIndexOf("."))+".ogg";else for(var s=0;s<o.length;s++)t=o[s].substr(o[s].lastIndexOf(".")+1),"mp3"==t&&(n=o[s]),"ogg"==t&&(a=o[s]);e.canPlayType("audio/mpeg;")&&""!=n?e.setAttribute("src",n):""!=a&&e.setAttribute("src",a),i&&(e.loop=!0),r&&(e.volume=Number(r)/100),e.play()}function o(e){""!=(e=e.target.value)&&(pe=e)}function s(e){return void 0!==(e=document.getElementById(e))&&null!=e?e:""}function l(e){function t(){var e=i(this.getAttribute("href"));window.scrollTo(0,0);for(var t in a)if(t==e){n[t].className=" selected",a[t].style.display="block";var r=e.replace(/^\D+/g,"");c(r),p(r)}else n[t].className="",a[t].style.display="none";return!1}function r(e,t){for(var r=0;r<e.childNodes.length;r++)if(e.childNodes[r].nodeName==t)return e.childNodes[r];return!0}function i(e){var t=e.lastIndexOf("#");return e.substring(t+1)}var n=[],a=[];e=document.getElementById(e).childNodes;for(var o=0;o<e.length;o++)if("LI"==e[o].nodeName){var s=r(e[o],"A"),l=i(s.getAttribute("href"));n[l]=s,a[l]=document.getElementById(l)}o=0;for(l in n)n[l].onclick=t,0==o&&(n[l].className=" selected"),o++;o=0;for(l in a)a[l].style.display=0==o&&"none"==a[l].style.display?"block":"none",o++}function c(e){return U=e,k&&1<K&&(k.innerHTML=e),!0}function p(e){return lim_sc("paxina",e+1),B&&(e==K-1||se[e]?(B.style.visibility="hidden",F=!0):!se[e]&&F&&(B.style.visibility="visible",F=!1)),_&&(0==e||le[e]?(_.style.visibility="hidden",ce=!0):!le[e]&&ce&&(_.style.visibility="visible",ce=!1)),ie[e]?m.sonar(ie[e]):I.pause(),!0}function d(e){try{var t=JSON.parse(e)}catch(e){throw new m.modal(document.getElementById("lim"),0,"clmodal-avalia").open(m.td('Error en los datos<p>Código 2</p><p style="font-size:12">'+m.td("La estructura de los datos no es correcta")+"</p>")),Error(m.td("Error en los datos"))}return t}var m=this;if(n("dbg")&&window.addEventListener("error",function(){var e=(m.nup+1).toString();console.log("error pax: "+e),alert(m.td("error pax: ")+e)}),void 0===u)var u="sclim/";"function"!=typeof lim_sc&&(window.lim_sc=function(){});var f,h,v="CORRECTO",g="INCORRECTO",b=u+"mal.mp3",L=u+"ben.mp3",y=u+"av.mp3",M=[],I=new Audio,N=new Audio;N.loop=!1,N.volume=.1;var w,E,S,k,C,T,A,H,q,O,P,z,F,B,_,W=new Audio,D=new Audio,j=new Audio,R=0,X=0,Y=0,V=null,J=null,U=1,G=0,Z=0,K=0,Q=!1,ee=null,te=null,re=[],ie=[],ne="",ae="1",oe="",se=[],le=[],ce=!1,pe="",de=0,me=1,ue="",fe=0,he=new Date,ve="abcdefghijklmnñopqrstuvwxyzç",ge=lang.ESP;document.addEventListener("beforeunload",function(){lim_sc("fin",2)}),m.letrascomun=function(){return ve},m.lim_dat=function(e,t){switch(e=e.toLowerCase()){case"nome_usuario":pe=t;break;case"id":ue=t;break;case"av":m.avanza();break;case"rt":m.retrocede();break;case"informe":m.amosainforme();break;case"get":var r="",i="";switch(t){case"nome_usuario":r="nome_usuario",i=pe;break;case"total_activ":r="total_activ",i=de;break;case"tipo_paxina":r="tipo_paxina";break;case"total_ben":r="total_ben",i=fe.toString();break;case"total_mal":for(r="total_mal",i=_totalmal=0;i<K;i++)2==nota[i]&&_totalmal++;i=_totalmal.toString();break;case"nome_libro":r=t,i=z;break;case"total_paxinas":r=t,i=exer.toString();break;case"paxina_actual":r=t,i=nump+1;break;case"data":r=t,i=(i=new Date).getDate()+"/"+Number(i.getMonth()+1)+"/"+i.getFullYear();break;case"titulo":r=t,i=z;break;case"autor":r=t,i=void 0;break;case"id":r=t,i=ue;break;case"tempo_inicio":i=(i=new Date).getHours()+":"+i.getMinutes()+":"+i.getSeconds();break;case"tempo":r=(new Date).getTime()-he.getTime(),i=Math.round(r/1e3),r=t,i=i.toString();break;case"menu":r=t,i=datos_menu}if(""!=r)return void 0!=i&&""!=i||(i="-"),i}},m.dom=function(e){return document.getElementById(e)},m.addEventSimple=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)},m.removeEventSimple=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)},m.td=function(e){return ge[e]?ge[e]:e},m.ocultar=function(e){},m.mostrar=function(e){},m.colors=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]="#"+Math.floor(16777215*Math.random()).toString(16);return t},m.preaudio=function(e,t){t=t.replace(/\.[^/.]+$/,""),e.canPlayType("audio/mpeg")?e.src=t+".mp3":e.src=t+".ogg",e.load()},m.preaudio(j,y),m.nup=0,m.numpax=0,document.onreadystatechange=function(){if("interactive"===document.readyState){if(document.styleSheets)for(var r=document.styleSheets,n=r.length,o=0;o<n;o++)if(-1<r[o].href.indexOf("lim.css")){var s=r[o].href.lastIndexOf("/");u=r[o].href.substr(0,s)+"/",b=u+"mal.mp3",L=u+"ben.mp3",y=u+"av.mp3"}r=!1;try{r=window.self!==window.top}catch(e){}if(r)try{var l=parent.document.getElementsByTagName("iframe");for(o=0;o<l.length;o++)l[o].setAttribute("allowFullScreen","")}catch(e){}var c;if(0==(l=document.querySelectorAll(".pcllim")).length&&(l=document.getElementsByTagName("body"),G=1),O=o=l[0],r=null,o.getAttribute("data-limc")?r=o.getAttribute("data-limc"):(n=o.getElementsByClassName("data-limc")[0])&&(n.className="pcldata",r="textarea"==n.tagName.toLowerCase()?n.value:n.innerHTML),r&&("@"==r.substr(0,1)&&(r=m.decode(r.substr(1))),0!=(r=d(r))))if(_autor=r.autor||"",_licenza=r.licencia||"",z=r.titulo||"",oe=r.indentifica||"",_idiom=r.idioma||"ESP",me=Number(r.npax)||1,lang[_idiom]||(lang[_idiom]={}),ge=lang[_idiom],v=m.td(v),g=m.td(g),oe==oe&&(oe='<a href="'+oe+'" target="_blank">'+oe+"</a>"),P=r.recursos||"",P+="/",h=r.sonben?m.addrecu(r.sonben):L,f=r.sonmal?m.addrecu(r.sonmal):b,m.preaudio(D,h),m.preaudio(W,f),G=r.modo||0,r.caracteres&&(ve=r.caracteres),r.corbanda&&((c=o.getElementsByClassName("pclsuper")[0])&&(c.style.backgroundColor="#"+r.corbanda),(c=o.getElementsByClassName("pclsub")[0])&&(c.style.backgroundColor="#"+r.corbanda)),r.corfondo&&(c=o.getElementsByClassName("pclfondo")[0])&&(c.style.backgroundColor="#"+r.corfondo),r.cortexto&&(o.style.color="#"+r.cortexto,c&&(c.style.backgroundColor="#"+r.corfondo)),r.cornavega&&(c=o.getElementsByClassName("pclbarra")[0])&&(c.style.backgroundColor="#"+r.cornavega),r.imaxefondo&&""!=r.imaxefondo.nome&&(c=o.getElementsByClassName("pclfondo")[0],r.imaxefondo.posx&&(n=(Number(r.imaxefondo.posx)+150).toString(),c.style.backgroundPositionX=n+"px"),r.imaxefondo.posy&&(n=(Number(r.imaxefondo.posy)+50).toString(),c.style.backgroundPositionY=n+"px"),r.imaxefondo.trans&&(c.style.opacity=r.imaxefondo.trans/100),"1"!=r.imaxefondo.repeat&&(c.style.backgroundRepeat="no-repeat"),c.style.backgroundImage="url('"+m.addrecu(r.imaxefondo.nome)+"')"),r.ben&&(v=r.ben),r.mal&&(g=r.mal),r.logo&&(c=o.getElementsByClassName("pclsuper")[0])&&(c.innerHTML=r.lnklogo?'<a href="'+r.lnklogo+'" title="['+r.lnklogo+"]."+m.td("Abre en nueva ventana")+'" target="_blank" > <img src="'+r.logo+'" class="pcllogo"></a>'+c.innerHTML:'<img src="'+r.logo+'" class="pcllogo">'+c.innerHTML),r.sonido&&(c=r.sonido.split("||"),a(N,c[0],c[1],c[2])),ae=r.m_eva||ae,void 0!=r.axuda?ne=r.axuda||"":e(c=O.querySelector(".lbt-axd"))&&(c.style.display="none"),r.menu){for(n="<ul>",c=0;c<r.menu.length;c++)s=r.menu[c].split("||"),void 0==s[1]&&(s[1]=s[0]),m.nozero(s[0])&&(n+="<li><a href=\"javascript:LIM.salto('"+s[1]+"')\">"+s[0]+"</a></li>");"1"==r.modomenu?(e(c=O.querySelector(".lbt-menu"))&&(c.style.display="none"),(r=document.createElement("div")).className="pclHmenu",(c=o.getElementsByClassName("pclsub")[0])&&(c.appendChild(r),r.innerHTML=n+"</ul>")):((c=O.querySelector(".pclind"))&&(c.innerHTML=n+"</ul>"),2==r.modomenu&&c.setAttribute("class","pclind view"))}else c=O.querySelector(".lbt-menu"),e(c)&&(c.style.display="none");if(0<(c=l.length)){for(r=0;r<c;r++)l[r].hasAttribute("id")||l[r].setAttribute("id","lim"+r);for(c=(l=document.getElementsByName("limpax")).length,r=0;r<c;r++)l[r].hasAttribute("id")||l[r].setAttribute("id",r+"paxina");for(c=(l=document.getElementsByName("limpanel")).length,r=0;r<c;r++){var p;l[r].hasAttribute("id")||l[r].setAttribute("id","activob"+r),parseInt(l[r].parentNode.id),n=r;var x=(s=l[r]).querySelectorAll("*"),M={properties:{}},I=x.length;if(M.menu=s.getAttribute("data-limmenu"),s.getAttribute("data-limc"))var w=s.getAttribute("data-limc");else(p=s.getElementsByClassName("data-limc")[0])&&(p.className="pcldata",w="textarea"==p.tagName.toLowerCase()?p.value:p.innerHTML);if(w&&("@"==w.substr(0,1)&&(w=m.decode(w.substr(1))),""!=w)){0!=(p=d(w))&&(M.properties=p.properties,M.folder=P,le[n]=!1,"1"==p.properties.ipasar&&(le[n]=!0),se[n]=!1,"1"==p.properties.dpasar&&(se[n]=!0),M.properties.type=void 0===p.properties.type?s.getAttribute("data-limt"):p.properties.type,s.hasAttribute("class")||s.setAttribute("class","pclactivof"),M.cssstyle=void 0!==p.cssstyle?p.cssstyle:s.getAttribute("class").split(" ")[0]),M.num=n;for(var E=0;E<I;E++)switch(p=x[E].getAttribute("name"),p){case"limact":x[E].setAttribute("id","limact"+n),M.donde="limact"+n,x[E].hasAttribute("class")||x[E].setAttribute("class","pclactiv");break;case"limtexto":M.properties.texto=x[E].innerHTML;break;case"limimaxe":M.properties.imaxe=x[E].getAttribute("src");break;case"liminfo":x[E].hasAttribute("class")||x[E].setAttribute("class","nwinfo"),x[E].setAttribute("id","liminfo"+n),M.properties.info="#"+x[E].id;break;case"limcabe":x[E].hasAttribute("class")||x[E].setAttribute("class","pclcabe"),x[E].setAttribute("id","limcabe"+n),M.dvcabe="#"+x[E].id;break;case"limpe":x[E].hasAttribute("class")||x[E].setAttribute("class","pclpe"),x[E].id="limpe"+n,M.dvpe="#"+x[E].id;break;case"limmas":x[E].hasAttribute("class")||x[E].setAttribute("class","pclbutton info"),x[E].setAttribute("id","btliga"+n),M.properties.txliga="#"+x[E].id,M.properties.paxliga=x[E].getAttribute("href");break;case"limson":x[E].hasAttribute("class")||x[E].setAttribute("class","pclbutton play"),x[E].setAttribute("id","btplay"+n),x[E].setAttribute("onclick",'LIM.sonar("'+x[E].getAttribute("href")+'")'),M.properties.son=x[E].getAttribute("href"),M.properties.autoson=x[E].getAttribute("data-liauto"),x[E].setAttribute("href","javascript:;");break;case"limdat":M.texto=x[E].innerHTML}void 0===M.donde&&(m.creardom("div",s,"limact"+n,"pclactiv"),M.donde="limact"+n),m.loadp(M)}}T=document.getElementsByTagName("VIDEO"),A=document.getElementsByTagName("iframe")}if(w=void 0,r=(w=(w=window.location.search).replace(/^\?/,"&amp;").match(/&amp;npax=([^&amp;]*)/i))?w[1]:"",document.getElementsByClassName("pclpreload"))for(w=document.getElementsByClassName("pclpreload");w[0];)w[0].parentNode.removeChild(w[0]);!function(r){var n=r.getElementsByClassName("pclsuper")[0];if(e(n)&&(R=parseInt(window.getComputedStyle(n).height)),e(n=r.getElementsByClassName("pclsub")[0])&&(X=parseInt(window.getComputedStyle(n).height)),e(n=r.getElementsByClassName("pclbase")[0])&&(n.style.height=parseInt(window.getComputedStyle(r).height)-R-X-8+"px",window.addEventListener("resize",function(t){e(n=r.getElementsByClassName("pclbase")[0])&&(n.style.height=parseInt(window.getComputedStyle(r).height)-R-X-8+"px")})),C=r.getElementsByClassName("pclcont"),1!=G)for(i=1;i<C.length;i++)C[i].style.display="none";K=C.length,k=r.getElementsByClassName("pclnum")[0],V=C[0];var a,o="botón para poner o quitar la pantalla completa;botón para mostrar el informe;botón para avanzar página;botón para retroceder página;botón para mostrar el menú del libro;botón para ocultar o mostrar la barra lateral;botón para mostrar documento de ayuda".split(";"),s=[{".lbt-full":function(){var e=document.documentElement;document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},".lbt-infor":function(){m.amosainforme()},".lbt-frw":function(){m.avanza()},".lbt-bck":function(){m.retrocede()},".lbt-menu":function(){r.querySelector(".pclind").classList.toggle("view")},".pclbtbr":function(){r.querySelector(".pclbarra").classList.toggle("noview")},".lbt-axd":function(){m.salto(ne)}}],l=0;for(a in s)if(s.hasOwnProperty(a))for(var c in s[a])s[a].hasOwnProperty(c)&&t(c,s[a][c],o[l]),l++;B=O.getElementsByClassName("lbt-frw")[0],(_=O.getElementsByClassName("lbt-bck")[0])&&(_.style.visibility="hidden"),te=0==ae?new m.alert(r,0,"nwalert"):new m.modal(r,0,"clmodal-avalia"),ee=new m.modal(r,1,"clmodal-informe"),C=r.querySelectorAll(".pclcont"),e(n=r.querySelector(".pclnum"))}(O),w=window.location.pathname.split("/").pop()||"lim",lim_sc("inicio",w),lim_sc("totalp",K),lim_sc("numexer",de),(c=o.getElementsByClassName("pcltotal")[0])&&(c.innerHTML=K),k&&1<K&&(k.innerHTML="1"),ce=!0,""!=r?m.salto(r):m.salto(me)}},m.alert=function(e,t,r){var i=this;this.target=e,this.isOpen||(this.clase=r,this.clasev=this.clase+" "+this.clase+"v",this.modalWindow=document.createElement("div"),this.target.appendChild(this.modalWindow),this.modalWindow.className=this.clase,this.open=function(e,t){this.isOpen||(this.isOpen=!0,window.clearTimeout(q),this.modalWindow.innerHTML=e,0<t&&(i=this,q=window.setTimeout(function(){i.close()},1e3*t)),this.modalWindow.className=this.clasev)},this.close=function(){this.modalWindow.className=this.clase,this.isOpen=!1})},m.modal=function(e,t,r){if(this.target=e,!this.isOpen){var i=this;this.clase=r,this.clasev=this.clase+" "+this.clase+"v",this.overlay=document.createElement("div"),this.overlay.className="clmodal-overlay",this.overlay.setAttribute("tabindex",-1),this.modalWindow=document.createElement("div"),this.modalWindow.className=r||"clmodal-avalia",this.modalWindow.setAttribute("role","dialog"),this.modalWindow.setAttribute("tabindex",0),this.modalWrapper=document.createElement("div"),this.modalWrapper.className="clmodal-wrapper",this.modalContent=document.createElement("div"),this.modalContent.className="clmodal-content",this.escapeHandler=function(e){27===e.keyCode&&i.close()},this.modalWindow.appendChild(this.modalWrapper),this.modalWrapper.appendChild(this.modalContent),this.overlay.onclick=function(){i.close()},1==t?(this.closeButton=document.createElement("button"),this.closeButton.className="clmodal-close",this.closeButton.innerHTML="X",this.closeButton.setAttribute("title",m.td("Cerrar")),this.closeButton.setAttribute("type","button"),this.modalContent.style="cursor:default;",this.closeButton.onclick=function(){i.close()},this.modalWindow.appendChild(this.closeButton)):this.modalWindow.onclick=function(){i.close()},this.trigger=null,this.isOpen=!1}return this.open=function(e,t,r){window.clearTimeout(H),this.isOpen||(e&&this.update(e),this.modalWindow.className=this.clase,this.target.appendChild(this.overlay),this.target.appendChild(this.modalWindow),window.addEventListener?(window.addEventListener("focus",this.focusHandler,!1),window.addEventListener("keyup",this.escapeHandler,!1)):(window.attachEvent("onfocus",this.focusHandler),window.attachEvent("onkeyup",this.escapeHandler)),this.trigger=document.activeElement,this.modalWindow.focus(),this.isOpen=!0,r&&r.call(this),0<t&&(i=this,H=window.setTimeout(function(){i.close()},1e3*t)),this.modalWindow.className=this.clasev)},this.update=function(e){this.modalContent.innerHTML=e},this.close=function(e){if(this.modalWindow.className=this.clase,this.isOpen){window.removeEventListener?(window.removeEventListener("focus",this.focusHandler,!1),window.removeEventListener("keyup",this.escapeHandler,!1)):(window.detachEvent("onfocus",this.focusHandler),window.detachEvent("onkeyup",this.escapeHandler)),this.target.removeChild(this.modalWindow),this.target.removeChild(this.overlay);for(var t=0,r=this.target.children.length;t<r;t++)this.target.children[t].removeAttribute("aria-hidden");this.trigger&&(this.trigger.focus(),this.trigger=null),this.isOpen=!1,e&&e.call(this)}},this.teardown=function(){this.isOpen&&this.close(),delete this.escapeHandler,delete this.focusHandler,delete this.closeButton,delete this.modalContent,delete this.modalWrapper,delete this.modalWindow,delete this.overlay,delete this.trigger,delete this.isOpen},this},m.getvar=function(e){if("total_activ"==e)return total_activ},m.inicio=function(e,t,r){G=r,m.dom(e),Z=t,S=m.dom("activo"+t)},m.aspecto=function(e){m.nozero(e.titulo),m.nozero(e.musica)&&a(N,e.musica)},m.crearpaxina=function(e,t){m.numpax++,m.nozero(t)||(t="");var r=m.creardom("div",S,"paxina"+e,"clpaxina "+t,-1,-1);return 1!=G&&0!=e&&(r.style.display="none"),V=r},m.crearbase=function(e){w=E=null,Y++;var t=document.getElementById(e.donde),r=null;if(void 0!=e.properties.dvpe)"#"==e.properties.dvpe.substr(0,1)&&(E=m.dom(e.properties.dvpe.substr(1)));else{var i="";m.nozero(e.properties.txpe)&&(i='<div class="pclpetext">'+e.properties.txpe+"</div>"),t.insertAdjacentHTML("afterend",i+'<div id="limpe'+Y+'" class="pclpe"></div>'),E=m.dom("limpe"+Y),e.properties.pxliga&&(i=e.properties.pxliga.split("||"),m.crearlink({pai:E,name:"btliga"+Y,text:i[0],url:"javascript:LIM.salto('"+i[1]+"')",cssclass:"pclbutton info",posx:-1,posy:-1,alttext:"["+i[1]+"]."+m.td("Abre en nueva ventana")})),m.nozero(e.properties.ison)&&m.crearlink({pai:E,name:"btson"+Y,text:"",url:'javascript:LIM.sonar("'+m.addrecu(e.properties.ison)+'");',cssclass:"pclbutton play",posx:-1,posy:-1,alttext:m.td("Escuchar")})}if(null!=e.donde?(i=(r=m.dom(e.donde)).parentNode,void 0!=e.properties.dvcabe?"#"==e.properties.dvcabe.substr(0,1)&&(w=m.dom(e.properties.dvcabe.substr(1))):(void 0==e.properties.txcabe&&(e.properties.txcabe=""),t.insertAdjacentHTML("beforebegin",'<div  name="limcabe" id="limcabe'+Y+'" class="pclcabe">'+e.properties.txcabe+"</div>"),w=m.dom("limcabe"+Y)),m.nozero(e.properties.cssstyle)&&(i.className=i.className+" "+e.properties.cssstyle)):(m.nozero(e.width)||(e.width="100%"),m.nozero(e.height)||(e.height="100%"),e.properties.hidden&&(e.properties.cssstyle="hidden"),t='<div id="cabe'+Y+'" class="clcabe"></div>',r.innerHTML=t,t=m.creardom("div",r,"activob"+Y,"pclactiv",0,0),t='<div id="pe'+Y+'"  class="pclpe"><span id="petext'+Y+'" class="pclpetext"></span></div></div>',r.innerHTML+=t+"</div>",w=m.dom("cabe"+Y),E=m.dom("pe"+Y),m.dom("petext"+Y),t=m.dom("activob"+Y)),void 0!=e.properties.info&&w&&"#"==e.properties.info.substr(0,1)){var n=m.dom(e.properties.info.substr(1));m.crearlink({pai:w,url:"javascript:;",name:Y+"btin",cssclass:"claxd",alttext:m.td("Saber más")}).onclick=function(){n.className="nwinfo nwinfov"==n.className?"nwinfo ":"nwinfo nwinfov"}}return e.properties.height?t.style.minHeight=e.properties.height+"px":e.properties.minheight&&(t.style.minHeight=e.properties.minheight+"px"),e.properties.estilo&&((i=t.parentNode).className=i.className?i.className+" "+e.properties.estilo:e.properties.estilo),M.push(r),t},m.comunes=function(e,t,r,i,n,a,o){a&&(e=a.split("||"),m.crearlink({pai:E,name:"btliga"+Y,text:e[0],url:e[1],cssclass:"pclbutton info",posx:-1,posy:-1,alttext:o+" ."+m.td("Abre en nueva ventana")})),void 0!=t&&(w.innerHTML=t),void 0!=r&&(E.innerHTML=r),void 0!=i&&""!=i&&(btson=m.crearlink({pai:E,name:"btplay"+Y,url:"javascript:;",cssclass:"pclbutton play",posx:-1,posy:-1,alttext:m.td("Reproducir sonido")}),btson.style.visibility="visible",m.addEventSimple(btson,"click",function(){m.sonar(i)}))},document.addEventListener("keypress",function(e){27==e.keyCode&&document.getElementById("vista")&&(document.getElementById("vista").style.display="none")}),document.addEventListener("keydown",function(e){if(e.altKey)switch(e.code){case"F11":m.salto("imprimir");break;case"F10":m.verhtml();break;case"F9":m.amosainforme();break;case"F8":case"Enter":m.comprobar();break;case"ArrowRight":m.avanza();break;case"ArrowLeft":m.retrocede()}}),m.esactividad=function(e,t){E||(E=m.creardom("div",e.parentNode,"pclpe"+Y,"",0,0));var r=null;return re[Y-1].res=3,de++,t&&((r=m.crearlink({pai:E,name:"btcomproba"+Y,url:"javascript:;",cssclass:"pclbutton clcomproba",posx:-1,posy:-1,alttext:m.td("Comprobar el resultado")})).style.visibility="visible"),r},m.verinforme=function(){},m.amosa=function(e){e.style.display="block"==e.style.display?"none":"block"},m.amosatodo=function(){if(Q){Q=!1;var e="none"}else Q=!0,e="block";for(var t=document.getElementsByClassName("clpaxina"),r=0;r<t.length;r++)"block"==t[r].style.display&&"block"==e&&(J=t[r]),t[r].style.display=e;null==J&&(vismane=J=t[0]),"none"==e&&(J.style.display="block")},m.sonar=function(e){e?a(I,e):I.pause()},m.amosainforme=function(){var e="",t=re.length,r=m.td("Panel");m.td("Página"),e=m.td("Intentos");var i=m.td("Resultado"),n=m.td("Descripción"),a=m.td("Autoría"),s="",l=0,c=0,p=new Date;for(p='<p class="clinf-titulo">'+z+" ("+p.getDate()+"-"+(p.getMonth()+1)+"-"+p.getFullYear()+"  "+p.getHours()+":"+p.getMinutes()+")</p>",p=""==pe?p+'<input type="text" class="clinf-user"></input>':p+'<p type="text" class="clinf-user" >'+pe+"</p>",p+='<div  class="clinf-o" >',r='<table class="clinf-tb" ><tr><td>'+r+"</td><td>"+n+"</td><td>"+i+"</td><td>"+e+"</td></tr>",i=0;i<t;i++)s="",l=i+1,e="clinf-c",3==re[i].res?(s="&#9899",e+=" clinf-n"):1==re[i].res?(s="X",e+=" clinf-m"):2==re[i].res?(s="&#10004",e+=" clinf-b",c++):0==re[i].res&&(s="-"),r+="<tr><td>"+l+"</td><td>"+re[i].nome+"</td><td>"+s+"</td><td>"+re[i].intos+"</td></tr>",p+='<p class="'+e+'">'+l+"</p>";r+="</table>",0<c?(t=100*c/de,parseInt(t)!=t&&(t=t.toFixed(1))):t=0,p=(p+='<div class="clinf-nt"><span class="clinf-cn clinf-b">'+c.toString()+' &#10004 </span><span class="clinf-cn"> '+de.toString()+' </span><span class="clinf-cn"> '+t.toString()+"%</span></div>")+"</div>"+r+'<p class="clinf-aut">'+a+": "+_autor+"</p>",p+='<p class="clinf-aut">'+oe+"</p>",p+='<p class="clinf-aut">'+_licenza+"</p>";var d=p+='<p class="clinf-aut">LIM 5.0 rc9.1</p>';p+='<button  class="clinf-imprin" >'+m.td("Imprimir")+"</button>",ee.open(p),(a=ee.modalContent).getElementsByClassName("clinf-imprin")[0].onclick=function(){m.imprimirdv(d,0)},a.getElementsByClassName("clinf-user")[0].onchange=o},m.pechainforme=function(){ee.close()},m.tcontido=function(e){var t="";return e=e.split(".").pop().toLowerCase(),-1<"webm mp4 ogv".indexOf(e)?t="v":-1<"swf".indexOf(e)?t="s":-1<"jpg,png,gif".indexOf(e)&&(t="i"),t},m.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$o)"))},m.desordenam=function(e){for(var t=[],r=0;r<e;r++)t.push(r);return t=t.sort(function(){return Math.random()-.5}),finarr},m.desordena=function(e){for(var t=[],r=0;r<e;r++)t.push(r);e=t.length;for(var i;0!==e;)i=Math.floor(Math.random()*e),--e,r=t[e],t[e]=t[i],t[i]=r;return t},m.revolve=function(e){return e.sort(function(){return Math.random()-.5})},m.estasobre=function(e,t,r){var i=!1;if(t){var n=t.offsetLeft,a=t.offsetTop,o=n+t.offsetWidth,s=a+t.offsetHeight,l=e.offsetLeft,c=e.offsetTop,p=l+e.offsetWidth,d=c+e.offsetHeight,m=c+e.offsetHeight,u=l+e.offsetWidth,f=l-10,h=c+e.offsetHeight/2;l<o+5&&l>n-5&&c>a-10&&c<s+5?(i=!0,j.play()):p<o&&p>n&&d>a&&d<s?(i=!0,j.play()):l<o&&l>n&&m>a&&m<s?(i=!0,j.play()):u<o&&u>n&&c>a&&c<s?(i=!0,j.play()):f<o&&f>n&&h>a&&h<s&&(i=!0,j.play()),i&&r&&(e.style.left=t.style.left,e.style.top=t.style.top)}return i},m.ratosobre=function(e,t,r,i,n){var a=!1;if(t){var o=t.style.zIndex,s=t.offsetLeft,l=t.offsetTop;t.style.zIndex="5000",t==document.elementFromPoint(r,i)&&(a=!0,j.play(),n&&(e.style.left=s+1+"px",e.style.top=l+1+"px"))}return t.style.zIndex=o,a},m.getPosition=function(e){e="string"==typeof e||e instanceof String?document.getElementById(e):e;var t=0,r=0;do{t+=e.offsetLeft,r+=e.offsetTop}while(e=e.offsetParent);return{x:t,y:r}},m.poneravaliacion=function(e,t,r,i,n){var a=Number(n)+1;if(null==i&&(i=""),"_"!=i.substr(0,1))if(r)2!=re[n].res&&re[n].intos++,re[n].res=2,m.nozero(t)?te.open(t,2):te.open(v,2),lim_sc("avben",n+1),fe++,D.play(),m.creardom("div",e.parentNode,"","pclben"),se[n]=!1,le[n]=!1,B&&(n==K-1||se[n]?(B.style.visibility="hidden",F=!0):!se[n]&&F&&(B.style.visibility="visible",F=!1)),_&&(0==n||le[n]?(_.style.visibility="hidden",ce=!0):!le[n]&&ce&&(_.style.visibility="visible",ce=!1));else{var o=e.parentNode.getElementsByClassName("pclben")[0];o&&e.parentNode.removeChild(o),2!=re[n].res&&(re[n].intos++,re[n].res=1),m.nozero(t)?te.open(t,2):te.open(g,2),lim_sc("avmal",n+1),W.play()}""!=i&&window[i](r,a)},m.crearlink=function(e){var t=s(e.name);if(""==t){if(t=document.createElement("a"),m.nozero(e.name)&&(t.id=e.name),m.nozero(e.alttext)&&(t.title=e.alttext),m.nozero(e.cssclass)&&(t.className=e.cssclass),-1!=e.posy&&(t.style.top=e.posy+"px"),-1!=e.posx&&(t.style.left=e.posx+"px"),m.nozero(e.dimx)&&(t.style.width=r(e.dimx)),m.nozero(e.dimy)&&(t.style.height=r(e.dimy)),m.nozero(e.target)&&t.setAttribute("target",e.parent),m.nozero(e.url)&&(t.href=e.url),m.nozero(e.text)){var i=document.createTextNode(e.text);t.appendChild(i)}e.pai.appendChild(t)}return t},m.creardom=function(e,t,i,n,a,o,l,c){var p=s(i);return""==p&&(p=document.createElement(e),m.nozero(i)&&(p.id=i),m.nozero(n)&&(p.className=n),o&&-1!=o&&(p.style.top=o+"px"),a&&-1!=a&&(p.style.left=a+"px"),m.nozero(l)&&(p.style.width=r(l)),m.nozero(c)&&(p.style.height=r(c)),t.appendChild(p)),p},m.crearspan=function(e,t,r,i,n){var a=s(t);return""==a&&((a=document.createElement("span")).id=t,""!=r&&(a.className=r),a.style.top=n+"px",a.style.left=i+"px",e.appendChild(a)),a},m.crearlabel=function(e,t,r,i,n,a,o){return""==(r=s(r))&&((r=document.createElement("label")).setAttribute("for",t),r.appendChild(document.createTextNode(o)),""!=i&&(r.className=i),r.style.top=a+"px",r.style.left=n+"px",e.appendChild(r)),r},m.crearchk=function(e,t,r,i,n){var a=s(t);return""==a&&((a=document.createElement("input")).setAttribute("type","checkbox"),a.id=t,""!=r&&(a.className=r),a.style.top=n+"px",a.style.left=i+"px",e.appendChild(a)),a},m.crearimaxe=function(e){var t=s(e.name);return""==t&&(t=document.createElement("img"),e.name&&(t.id=e.name),m.nozero(e.cssclass)?t.className=e.cssclass:t.style.position="absolute",m.nozero(e.alttext)&&(t.title=e.alttext),t.style.left=r(e.posx),t.style.top=r(e.posy),e.pai.appendChild(t)),t},m.crearswf=function(e,t,r,i,n,a,o,l,c){return""==(c=s(t))&&(c=document.createElement("object"),""!=t&&(c.id=t),""!=i&&(c.className=i),c.style.position="absolute",c.style.left=n+"px",c.style.top=a+"px",c.data=r,c.height=l,c.width=o,e.appendChild(c)),c},m.crearvid=function(e,t,r,i,n,a,o,l,c){return""==(c=s(t))&&(c=document.createElement("video"),""!=t&&(c.id=t),""!=i?c.className=i:c.style.position="absolute",""!=n&&(c.style.left=n+"px"),""!=a&&(c.style.top=a+"px"),c.src=r,""!=l&&(c.height=l),""!=o&&(c.width=o),c.controls="controls",e.appendChild(c)),c},m.crearinput=function(e){var t=s(e.name);if(""==t){var i=document.createElement("a");t=document.createElement("input"),e.name&&(t.id=e.name),t.type="text",m.nozero(e.cssclass)&&(t.className=e.cssclass),m.nozero(e.cssclass)||(t.style.position="absolute"),t.style.left=r(e.posx),t.style.top=r(e.posy),t.style.width=r(e.dimw),t.style.height=r(e.dimh),m.nozero(e.pholder)||(e.pholder=m.td("Tu respuesta")),t.title=e.pholder,t.placeholder=e.pholder,t.value="",i.appendChild(t),e.pai.appendChild(i)}return t},m.crearsonido=function(e,t,r){var i=s(t);return""==i&&(i=document.createElement("audio"),""!=t&&(i.id=t),i.preload=r,e.appendChild(i)),i},m.crearselect=function(e,t,r,i,n,a){var o=s(t);if(""==o){for(o=document.createElement("select"),""!=t&&(o.id=t),""!=r?o.className=r:o.style.position="absolute",t=0;t<a.length;++t)o[o.length]=new Option(a[t],a[t]);-1!=i&&(-50!=i&&(o.style.top=n+"px"),-50!=n&&(o.style.left=i+"px")),e.appendChild(o)}return o},m.crearselectimx=function(e,t,r,i,n,a,o,l){var c=s(t);if(""==c){for(c=document.createElement("select"),""!=t&&(c.id=t),""!=r?c.className=r:c.style.position="absolute",c.style.backgroundImage="url("+l[0]+")",t=0;t<l.length;++t)c[t]=new Option("",l[t]),c[t].style.width=a+"px",c[t].style.height=o+"px",c[t].style.backgroundImage="url("+l[t]+")",c[t].style.backgroundRepeat="no-repeat",c[t].style.backgroundSize=" 90px auto";-50!=i&&(c.style.top=n+"px"),-50!=n&&(c.style.left=i+"px"),c.onchange=function(){this.style.backgroundImage="url("+this.value+")",this.style.backgroundRepeat="no-repeat",this.style.backgroundSize=" 90px auto"},e.appendChild(c)}return c},m.transparencia=function(e,t){""!=t&&(e.style.opacity=t/100,e.style.filter="alpha(opacity="+t+")")},m.cargaimaxe=function(e,t,r,i,n,a,o){m.addEventSimple(e,"load",function t(){var s=m.reduce(e.width,e.height,r,i);e.width=s.W,e.height=s.H,o&&(e.style.left=1+(r-s.W)/2+"px",e.style.top=1+(i-s.H)/2+"px");var l=e.width,c=e.height;if(0<r){var p=e.naturalWidth,d=e.naturalHeight;if(p>r){var u=parseInt(r/p*100);d=c=u*d/100,p=l=r}d>i&&(c=i,l=(u=i/d*100)*p/100),e.width=l,e.height=c,o&&(e.style.left=1+(r-l)/2+"px",e.style.top=1+(i-c)/2+"px")}a&&(e.parentNode.style.backgroundImage=""),m.removeEventSimple(e,"load",t),e.style.visibility="visible",""!=n&&n(s.W,s.H,!0)}),m.addEventSimple(e,"error",function(){return"b"}),a&&(e.parentNode.style.backgroundImage="url("+u+"'pre.gif')",e.parentNode.style.backgroundRepeat="no-repeat"),e.style.visibility="hidden",e.src=t},m.ttrim=function(e){var t="";return""!=e&&(t=e.replace(/^\s\s*/,"").replace(/\s\s*$o/,"")),t},m.borde=function(e,t){return""!=t&&(e.style.borderRadius=t+"px",e.style.MozBorderRadius=t+"px",e.style.MsBorderRadius=t+"px",e.style.webkitBorderRadius=t+"px",e.style.khtmlBorderRadius=t+"px"),!0},m.comprobar=function(){V.querySelectorAll(".clcomproba")[0].click()},m.funcomprobar=function(e){if(""!=e){var t=m.dom("btcomproba");t.style.visibility="visible",m.addEventSimple(t,"click",e)}return!0},m.sleep=function(e){for(var t=(new Date).getTime();t+e>=(new Date).getTime(););},m.salto=function(e){var t=T;if(t)for(var r=0;r<t.length;r++)t[r].pause();if(A)for(r=0;r<A.length;r++)A[r].src=A[r].src;switch(e){case"ver":m.imprimirdv(V.innerHTML,0);break;case"imprimir":m.imprimirdv(V.innerHTML,1);break;case"comprobar":m.comprobar();break;default:isNaN(e)?"-"==e.substr(0,1)?window.open(e.substr(1),"_self"):open(e):e<=K&&0<e&&(c(e),--e,0==G?(V.style.display="none",(V=C[e]).style.display="block"):m.dom("paxina"+e)&&("none"==m.dom("paxina"+e).style.display&&(m.amosatodo(),m.dom("paxina"+e).style.display="block"),m.getPosition("paxina"+e)),p(e))}},m.lcambia=function(e,t,r){return e.substr(0,t)+r+e.substr(t+r.length)},m.enche=function(e,t){for(var r="",i=0;i<t;i++)r+=e;return r},m.limparHTML=function(e){return e.replace(/<[^>]+>/g,"")},m.sspc=function(e){return e.replace(/ /g,"")},m.xira=function(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.MozTransform="rotate("+t+"deg)",e.style.OTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"},m.reduce=function(e,t,r,i){var n={};return n.W=e,n.H=t,0<r&&(e>r&&(e=parseInt(r/e*100),n.W=r,n.H=e*t/100,t=n.H,e=n.W),t>i&&(n.H=i,n.W=i/t*100*e/100)),n},m.nozero=function(e){return void 0!=e&&""!=e&&"undefined"!=e},m.valorcss=function(e,t){if(document.styleSheets)for(var r=document.styleSheets.length-1;0<=r;r--)for(var i=document.styleSheets[r].cssRules||document.styleSheets[r].rules||[],n=0;n<i.length;n++)if(i[n].selectorText===e)return i[n].style[t];return null},m.cambiafont=function(e){if(0<e.length)for(var t=e.length-1;-1<t;t--){var r=e[t].getAttribute("color"),i=e[t].getAttribute("size"),n=e[t].getAttribute("face"),a=document.createElement("span");a.setAttribute("style","color:"+r+";font-size:"+i+"px;face:"+n+";"),a.innerHTML=e[t].innerHTML,e[t].parentNode.insertBefore(a,e[t]),e[t].parentNode.removeChild(e[t])}},m.addrecu=function(e){return e},m.qhtml=function(e,t){if(m.dom(e))for(var r,i,n,a,o=m.dom(e).querySelectorAll("*"),s=o.length,l=0;l<s;l++){r=o[l].getAttribute("name"),a=o[l].tagName;for(var c in t)r=="lim"+c&&(i=t[c],"IMG"==a?(n=o[l].getAttribute("src"),"undefined"!=o[l].getAttribute("title")?t.imaxeAltText.push(o[l].getAttribute("title")):t.imaxeAltText.push(""),[].filter.call(o[l].attributes,function(e){return/^data-/.test(e.name)})):n=o[l].innerHTML,i instanceof Array?i.push(n):i=n)}return t},m.prc=function(e,t){var r,i={width:600,height:450,cssstyle:""},n={ison:"",autoson:0,txliga:"",paxliga:"",mensamal:"",mensaben:"",txcabe:"",txpe:"",modo:0,forma:0};for(r in n)void 0==t.properties[r]&&(t.properties[r]=n[r]);for(r in i)void 0==t[r]&&(t[r]=i[r]);for(r in e)void 0==t.properties[r]&&(t.properties[r]=e[r]);for(r in e)""!=e[r]&&(t.properties[r]=e[r]);return t},m.newpanel=function(e,t){"function"==typeof window[e]&&new window[e](t).crear()},m.loadp=function(e){e.paxina=m.nup+1;var t=m.nup;re[t]={nome:"",tip:0,pax:0,intos:0,res:0,av:!0,ret:!0,auto:!1},m.nup++,"function"==typeof window[e.properties.type]&&(new window[e.properties.type](e).crear(),m.nozero(e.properties.name)?re[t].nome=e.properties.name:re[t].nome="",re[t].pax=1,re[t].intos=0,"1"==e.properties.autoson&&"undefined"!=ie[t]&&(ie[t]=e.properties.ison))},m.load=function(e){e=m.dom(e).value;var t=!0;try{var r=JSON.parse(e)}catch(e){t=!1,S.innerHTML="",alert(m.td("Error en el archivo de datos"))}if(t){K=t=(e=r).paxinas.length;var i=0;m.aspecto({titulo:e.titulo,subtitulo:e.subtitulo,musica:e.musica}),r='<ul id="limtabul'+Z+'">';var a='<ul id="limnumul'+Z+'">';for(x=0;x<t;x++){var o=e.paxinas[x].paxina[0];m.crearpaxina(x,o.cssstyle);var s=o.panels.length;for(m.nozero(o.menu)&&(r+='<li><a href="#paxina'+x+'">'+o.menu+"</a></li>"),a+='<li><a href="#paxina'+x+'">'+(x+1)+"</a></li>",xx=0;xx<s;xx++)if(o=e.paxinas[x].paxina[0].panels[xx],"function"==typeof window[o.panel.properties.type]){o.panel.num=i,m.nozero(o.panel.properties.menu)&&(r+='<li><a href="#paxina'+x+'">'+o.panel.properties.menu+"</a></li>"),new window[o.panel.properties.type](o.panel).crear(),re[i]={nome:"",tip:0,pax:0,intos:0,res:0,av:!0,ret:!0,auto:!1},m.nozero(o.panel.properties.name)?re[i].nome=o.panel.properties.name:re[i].nome="",re[i].pax=x+1,re[i].intos=0;var p=o.panel.properties.autoson;m.nozero(p)&&"1"==p&&"undefined"!=ie[x]&&(ie[x]=o.panel.properties.son),i++}}r+=" </ul>",a+=" </ul>",m.dom("limtab"+Z).style.display="none",m.dom("latmenu"+Z).innerHTML=r,l("limtabul"+Z),m.dom("limtab"+Z).innerHTML=a,l("limnumul"+Z),V=m.dom("paxina"+Z),0==G&&(m.dom("latmenu"+Z).style.display="none",c(1)),null!=(e=n("npax"))?m.salto(Number(e)):2==G&&(m.dom("limtab"+Z).innerHTML=r)}},m.drag=function(e,t,r){(t=new Draggabilly(e,{containment:t})).on("dragStart",function(t,r,i){this.zprof=e.style.zIndex||2999,e.style.zIndex="3000"}),t.on("dragEnd",function(t,i,n){this.zprof&&(e.style.zIndex=this.zprof),""!=r&&r(e,n.clientX,n.clientY)})},m.paxina=function(){return Y},m.decode=function(e){var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(e){var r="",i=0;for(e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");i<e.length;){var n=this._keyStr.indexOf(e.charAt(i++)),a=this._keyStr.indexOf(e.charAt(i++)),o=this._keyStr.indexOf(e.charAt(i++)),s=this._keyStr.indexOf(e.charAt(i++));n=n<<2|a>>4,a=(15&a)<<4|o>>2;var l=(3&o)<<6|s;r+=String.fromCharCode(n),64!=o&&(r+=String.fromCharCode(a)),64!=s&&(r+=String.fromCharCode(l))}return t._utf8_decode(r)},_utf8_decode:function(e){var t="",r=0;for(c1=c2=0;r<e.length;){var i=e.charCodeAt(r);128>i?(t+=String.fromCharCode(i),r++):191<i&&224>i?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&i)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),r+=3)}return t}};return t.decode(e)},m.imprimirdv=function(e,t){var r='<html><head><meta charset="UTF-8"/><title></title>   <link rel="stylesheet" href="./sclim/lim.css" type="text/css" /></head><body class="pclimprin">'+e+"</body></html>",i=window.open("","Print","height=800,width=1000");return i.document.write(r),i.document.close(),i.focus(),1==t&&i.print(),!0},m.autoSizeText=function(e){var t;if(!(0>e.length)){var r=[],i=0;for(t=e.length;i<t;i++){var n=e[i];r.push(function(e){var t,r;for(t=[];e.scrollHeight>e.offsetHeight;)t.push((r=parseInt($(e).css("font-size").slice(0,-2))-1+"px",$(e).css("font-size",r)));return t}(n))}return r}},m.relposX=function(e){var t=0;do{isNaN(e.offsetLeft)||(t+=e.offsetLeft)}while(e=e.offsetParent);return t},m.relposY=function(e){var t=0;do{isNaN(e.offsetTop)||(t+=e.offsetTop)}while(e=e.offsetParent);return t},m.absPos=function(e){var t,r;for(r=t=0;null!=e;e=e.offsetParent)t+=e.offsetLeft,r+=e.offsetTop;return{x:t,y:r}},m.avanza=function(){return U<K&&(U++,m.salto(U)),!0},m.retrocede=function(){return 1<U&&(U--,m.salto(U)),!0},m.compara=function(e,t){if(e.length!=t.length)return!1;for(var r=e.join(","),i=0;i<t.length;i++)-1<r.indexOf(t[i])&&(r=r.split(t[i]).join(""));return!(0<(r=r.replace(/,/g,"")).length)}},function(e){function t(e,t){(r(e,t)?n:i)(e,t)}var r,i,n;"classList"in document.documentElement?(r=function(e,t){return e.classList.contains(t)},i=function(e,t){e.classList.add(t)},n=function(e,t){e.classList.remove(t)}):(r=function(e,t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)},i=function(e,t){r(e,t)||(e.className=e.className+" "+t)},n=function(e,t){e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")});var a={hasClass:r,addClass:i,removeClass:n,toggleClass:t,has:r,add:i,remove:n,toggle:t};"function"==typeof define&&define.amd?define("classie/classie",a):e.classie=a}(window),function(){function e(){}function t(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype;i.getListeners=function(e){var t,r=this._getEvents();if("object"==typeof e){var i={};for(t in r)r.hasOwnProperty(t)&&e.test(t)&&(i[t]=r[t])}else i=r[e]||(r[e]=[]);return i},i.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},i.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},i.addListener=function(e,r){var i,n=this.getListenersAsObject(e),a="object"==typeof r;for(i in n)n.hasOwnProperty(i)&&-1===t(n[i],r)&&n[i].push(a?r:{listener:r,once:!1});return this},i.on=r("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=r("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,r){var i,n,a=this.getListenersAsObject(e);for(n in a)a.hasOwnProperty(n)&&(i=t(a[n],r),-1!==i&&a[n].splice(i,1));return this},i.off=r("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,r){var i,n,a=e?this.removeListener:this.addListener;if(e=e?this.removeListeners:this.addListeners,"object"!=typeof t||t instanceof RegExp)for(i=r.length;i--;)a.call(this,t,r[i]);else for(i in t)t.hasOwnProperty(i)&&(n=t[i])&&("function"==typeof n?a.call(this,i,n):e.call(this,i,n));return this},i.removeEvent=function(e){var t,r=typeof e,i=this._getEvents();if("string"===r)delete i[e];else if("object"===r)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.emitEvent=function(e,t){var r,i,n=this.getListenersAsObject(e);for(i in n)if(n.hasOwnProperty(i))for(r=n[i].length;r--;){var a=n[i][r];a.listener.apply(this,t||[])!==this._getOnceReturnValue()&&!0!==a.once||this.removeListener(e,a.listener)}return this},i.trigger=r("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){var t=document.documentElement,r=function(){};t.addEventListener?r=function(e,t,r){e.addEventListener(t,r,!1)}:t.attachEvent&&(r=function(t,r,i){t[r+i]=i.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,i.handleEvent.call(i,t)}:function(){var r=e.event;r.target=r.target||r.srcElement,i.call(t,r)},t.attachEvent("on"+r,t[r+i])});var i=function(){};t.removeEventListener?i=function(e,t,r){e.removeEventListener(t,r,!1)}:t.detachEvent&&(i=function(e,t,r){e.detachEvent("on"+t,e[t+r]);try{delete e[t+r]}catch(i){e[t+r]=void 0}}),t={bind:r,unbind:i},"function"==typeof define&&define.amd?define("eventie/eventie",t):e.eventie=t}(this),function(e){function t(e){if(e){if("string"==typeof i[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,n=0,a=r.length;a>n;n++)if(t=r[n]+e,"string"==typeof i[t])return t}}var r=["Webkit","Moz","ms","Ms","O"],i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function r(e){var r,i=e("boxSizing");return function(){if(i){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[i]="border-box";var a=document.body||document.documentElement;a.appendChild(e);var o=n(e);r=200===t(o.width),a.removeChild(e)}}(),function(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"===o.display){var s={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(o=0,e=a.length;e>o;o++)s[a[o]]=0;return s}(s={}).width=e.offsetWidth,s.height=e.offsetHeight,e=s.isBorderBox=!(!i||!o[i]||"border-box"!==o[i]);for(var l=0,c=a.length;c>l;l++){var p=a[l],d=parseFloat(o[p]);s[p]=isNaN(d)?0:d}l=s.paddingLeft+s.paddingRight,c=s.paddingTop+s.paddingBottom,p=s.marginLeft+s.marginRight,d=s.marginTop+s.marginBottom;var m=s.borderLeftWidth+s.borderRightWidth,u=s.borderTopWidth+s.borderBottomWidth;e=e&&r;var f=t(o.width);return!1!==f&&(s.width=f+(e?0:l+m)),!1!==(o=t(o.height))&&(s.height=o+(e?0:c+u)),s.innerWidth=s.width-(l+m),s.innerHeight=s.height-(c+u),s.outerWidth=s.width+p,s.outerHeight=s.height+d,s}}}var i=document.defaultView,n=i&&i.getComputedStyle?function(e){return i.getComputedStyle(e,null)}:function(e){return e.currentStyle},a="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):e.getSize=r(e.getStyleProperty)}(window),function(e){function t(e,t){for(var r in t)e[r]=t[r];return e}function r(){}function i(i,n,o,c,p){function m(e,r){this.element="string"==typeof e?a.querySelector(e):e,this.options=t({},this.options),t(this.options,r),this._create()}function u(){return!1}function f(e,t){e.x=void 0!==t.pageX?t.pageX:t.clientX,e.y=void 0!==t.pageY?t.pageY:t.clientY}function h(e,t,r){return r=r||"round",t?Math[r](e/t)*t:e}var v=c("transform");c=!!c("perspective"),t(m.prototype,n.prototype),m.prototype.options={},m.prototype._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=t({},this.position);var e=s(this.element);"relative"!==e.position&&"absolute"!==e.position&&(this.element.style.position="relative"),this.enable(),this.setHandles()},m.prototype.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles(!0)},m.prototype.bindHandles=function(t){var r=e.navigator.pointerEnabled?this.bindPointer:e.navigator.msPointerEnabled?this.bindMSPointer:this.bindMouseTouch;t=void 0===t||!!t;for(var i=0,n=this.handles.length;n>i;i++)r.call(this,this.handles[i],t)},m.prototype.bindPointer=function(e,t){o[t?"bind":"unbind"](e,"pointerdown",this),e.style.touchAction=t?"none":""},m.prototype.bindMSPointer=function(e,t){o[t?"bind":"unbind"](e,"MSPointerDown",this),e.style.msTouchAction=t?"none":""},m.prototype.bindMouseTouch=function(e,t){var r=t?"bind":"unbind";o[r](e,"mousedown",this),o[r](e,"touchstart",this),t&&g(e)};var g="attachEvent"in a.documentElement?function(e){"IMG"===e.nodeName&&(e.ondragstart=u);for(var t=0,r=(e=e.querySelectorAll("img")).length;r>t;t++)e[t].ondragstart=u}:r;m.prototype._getPosition=function(){var e=s(this.element),t=parseInt(e.left,10),r=parseInt(e.top,10);this.position.x=isNaN(t)?0:t,this.position.y=isNaN(r)?0:r,this._addTransformPosition(e)},m.prototype._addTransformPosition=function(e){if(v){var t=e[v];if(0===t.indexOf("matrix")){e=t.split(",");var r=0===t.indexOf("matrix3d")?12:4;t=parseInt(e[r],10),e=parseInt(e[r+1],10),this.position.x+=t,this.position.y+=e}}},m.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},m.prototype.getTouch=function(e){for(var t=0,r=e.length;r>t;t++){var i=e[t];if(i.identifier===this.pointerIdentifier)return i}},m.prototype.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this.dragStart(e,e)},m.prototype.ontouchstart=function(e){this.isDragging||this.dragStart(e,e.changedTouches[0])},m.prototype.onMSPointerDown=m.prototype.onpointerdown=function(e){this.isDragging||this.dragStart(e,e)};var x={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};m.prototype.dragStart=function(t,r){this.isEnabled&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.pointerIdentifier=void 0!==r.pointerId?r.pointerId:r.identifier,this._getPosition(),this.measureContainment(),f(this.startPoint,r),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this._bindEvents({events:x[t.type],node:t.preventDefault?e:a}),i.add(this.element,"is-dragging"),this.isDragging=!0,this.emitEvent("dragStart",[this,t,r]),this.animate())},m.prototype._bindEvents=function(e){for(var t=0,r=e.events.length;r>t;t++)o.bind(e.node,e.events[t],this);this._boundEvents=e},m.prototype._unbindEvents=function(){var e=this._boundEvents;if(e&&e.events){for(var t=0,r=e.events.length;r>t;t++)o.unbind(e.node,e.events[t],this);delete this._boundEvents}},m.prototype.measureContainment=function(){var e=this.options.containment;if(e){this.size=p(this.element);var t=this.element.getBoundingClientRect();e=l(e)?e:"string"==typeof e?a.querySelector(e):this.element.parentNode,this.containerSize=p(e),e=e.getBoundingClientRect(),this.relativeStartPosition={x:t.left-e.left,y:t.top-e.top}}},m.prototype.onmousemove=function(e){this.dragMove(e,e)},m.prototype.onMSPointerMove=m.prototype.onpointermove=function(e){e.pointerId===this.pointerIdentifier&&this.dragMove(e,e)},m.prototype.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this.dragMove(e,t)},m.prototype.dragMove=function(e,t){f(this.dragPoint,t);var r=this.dragPoint.x-this.startPoint.x,i=this.dragPoint.y-this.startPoint.y,n=this.options.grid,a=n&&n[0];n=n&&n[1],r=h(r,a),i=h(i,n),r=this.containDrag("x",r,a),i=this.containDrag("y",i,n),r="y"===this.options.axis?0:r,i="x"===this.options.axis?0:i,this.position.x=this.startPosition.x+r,this.position.y=this.startPosition.y+i,this.dragPoint.x=r,this.dragPoint.y=i,this.emitEvent("dragMove",[this,e,t])},m.prototype.containDrag=function(e,t,r){if(!this.options.containment)return t;var i="x"===e?"width":"height",n=this.relativeStartPosition[e];return e=h(-n,r,"ceil"),i=h(i=this.containerSize[i]-n-this.size[i],r,"floor"),Math.min(i,Math.max(e,t))},m.prototype.onmouseup=function(e){this.dragEnd(e,e)},m.prototype.onMSPointerUp=m.prototype.onpointerup=function(e){e.pointerId===this.pointerIdentifier&&this.dragEnd(e,e)},m.prototype.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this.dragEnd(e,t)},m.prototype.dragEnd=function(e,t){this.isDragging=!1,delete this.pointerIdentifier,v&&(this.element.style[v]="",this.setLeftTop()),this._unbindEvents(),i.remove(this.element,"is-dragging"),this.emitEvent("dragEnd",[this,e,t])},m.prototype.onMSPointerCancel=m.prototype.onpointercancel=function(e){e.pointerId===this.pointerIdentifier&&this.dragEnd(e,e)},m.prototype.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);this.dragEnd(e,t)},m.prototype.animate=function(){if(this.isDragging){this.positionDrag();var e=this;d(function(){e.animate()})}};var b=c?function(e,t){return"translate3d( "+e+"px, "+t+"px, 0)"}:function(e,t){return"translate( "+e+"px, "+t+"px)"};return m.prototype.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},m.prototype.positionDrag=v?function(){this.element.style[v]=b(this.dragPoint.x,this.dragPoint.y)}:m.prototype.setLeftTop,m.prototype.enable=function(){this.isEnabled=!0},m.prototype.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},m.prototype.destroy=function(){this.disable(),v&&(this.element.style[v]=""),this.element.style.left="",this.element.style.top="",this.element.style.position="",this.bindHandles(!1)},m}for(var n,a=e.document,o=a.defaultView,s=o&&o.getComputedStyle?function(e){return o.getComputedStyle(e,null)}:function(e){return e.currentStyle},l="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},c=0,p=["webkit","moz","ms","o"],d=e.requestAnimationFrame,m=e.cancelAnimationFrame,u=0;u<p.length&&(!d||!m);u++)n=p[u],d=d||e[n+"RequestAnimationFrame"],m=m||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"];d&&m||(d=function(t){var r=(new Date).getTime(),i=Math.max(0,16-(r-c)),n=e.setTimeout(function(){t(r+i)},i);return c=r+i,n},m=function(t){e.clearTimeout(t)}),"function"==typeof define&&define.amd?define(["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-style-property/get-style-property","get-size/get-size"],i):"object"==typeof exports?module.exports=i(require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("desandro-get-style-property"),require("get-size")):e.Draggabilly=i(e.classie,e.EventEmitter,e.eventie,e.getStyleProperty,e.getSize)}(window),"object"!=typeof JSON&&(JSON={}),function(){function b(e){return 10>e?"0"+e:e}function D(e){return p.lastIndex=0,p.test(e)?'"'+e.replace(p,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function A(e,t){var i,n=g,a=t[e];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),"function"==typeof r&&(a=r.call(t,e,a)),typeof a){case"string":return D(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";g+=u;var o=[];if("[object Array]"===Object.prototype.toString.apply(a)){var s=a.length;for(i=0;i<s;i+=1)o[i]=A(i,a)||"null";var l=0===o.length?"[]":g?"[\n"+g+o.join(",\n"+g)+"\n"+n+"]":"["+o.join(",")+"]";return g=n,l}if(r&&"object"==typeof r){for(s=r.length,i=0;i<s;i+=1)if("string"==typeof r[i]){var c=r[i];(l=A(c,a))&&o.push(D(c)+(g?": ":":")+l)}}else for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(l=A(c,a))&&o.push(D(c)+(g?": ":":")+l);return l=0===o.length?"{}":g?"{\n"+g+o.join(",\n"+g)+"\n"+n+"}":"{"+o.join(",")+"}",g=n,l}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,u,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(u=g="","number"==typeof i)for(n=0;n<i;n+=1)u+=" ";else"string"==typeof i&&(u=i);if((r=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return A("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(b,f){function e(t,r){var i,n=t[r];if(n&&"object"==typeof n)for(i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=e(n,i);void 0!==a?n[i]=a:delete n[i]}return f.call(t,r,n)}if(b=String(b),z.lastIndex=0,z.test(b)&&(b=b.replace(z,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var d=eval("("+b+")");return"function"==typeof f?e({"":d},""):d}throw new SyntaxError("JSON.parse")})}();